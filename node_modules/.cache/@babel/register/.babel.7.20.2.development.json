{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\",\"filename\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\\\\backend\\\\server.js\",\"targets\":{\"android\":\"4.4.3\",\"chrome\":\"103.0.0\",\"edge\":\"105.0.0\",\"firefox\":\"105.0.0\",\"ios\":\"12.2.0\",\"opera\":\"90.0.0\",\"safari\":\"13.1.0\",\"samsung\":\"18.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.2:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\nvar _config = _interopRequireDefault(require(\"./config\"));\nvar _userRoute = _interopRequireDefault(require(\"./routes/userRoute\"));\nvar _productRoute = _interopRequireDefault(require(\"./routes/productRoute\"));\nvar _orderRoute = _interopRequireDefault(require(\"./routes/orderRoute\"));\nvar _uploadRoute = _interopRequireDefault(require(\"./routes/uploadRoute\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst mongodbUrl = _config.default.MONGODB_URL;\n_mongoose.default.connect(mongodbUrl, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n  useCreateIndex: true\n}).catch(error => console.log(error.reason));\nconst app = (0, _express.default)();\napp.use(_bodyParser.default.json());\napp.use('/api/uploads', _uploadRoute.default);\napp.use('/api/users', _userRoute.default);\napp.use('/api/products', _productRoute.default);\napp.use('/api/orders', _orderRoute.default);\napp.get('/api/config/paypal', (req, res) => {\n  res.send(_config.default.PAYPAL_CLIENT_ID);\n});\napp.use('/uploads', _express.default.static(_path.default.join(__dirname, '/../uploads')));\napp.use(_express.default.static(_path.default.join(__dirname, '/../frontend/build')));\napp.get('*', (req, res) => {\n  res.sendFile(_path.default.join(`${__dirname}/../frontend/build/index.html`));\n});\napp.listen(_config.default.PORT, () => {\n  console.log('Server started at http://localhost:5000');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb2RiVXJsIiwiY29uZmlnIiwiTU9OR09EQl9VUkwiLCJtb25nb29zZSIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ1c2VDcmVhdGVJbmRleCIsImNhdGNoIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwicmVhc29uIiwiYXBwIiwiZXhwcmVzcyIsInVzZSIsImJvZHlQYXJzZXIiLCJqc29uIiwidXBsb2FkUm91dGUiLCJ1c2VyUm91dGUiLCJwcm9kdWN0Um91dGUiLCJvcmRlclJvdXRlIiwiZ2V0IiwicmVxIiwicmVzIiwic2VuZCIsIlBBWVBBTF9DTElFTlRfSUQiLCJzdGF0aWMiLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsInNlbmRGaWxlIiwibGlzdGVuIiwiUE9SVCJdLCJzb3VyY2VSb290IjoiQzpcXFdlYiBkZXZlbG9wbWVudFxcRWNvbW1lcmNlX3Nob3BwaW5nX3dlYnNpdGVcXGJhY2tlbmRcXCIsInNvdXJjZXMiOlsic2VydmVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcclxuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInO1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnJztcclxuaW1wb3J0IHVzZXJSb3V0ZSBmcm9tICcuL3JvdXRlcy91c2VyUm91dGUnO1xyXG5pbXBvcnQgcHJvZHVjdFJvdXRlIGZyb20gJy4vcm91dGVzL3Byb2R1Y3RSb3V0ZSc7XHJcbmltcG9ydCBvcmRlclJvdXRlIGZyb20gJy4vcm91dGVzL29yZGVyUm91dGUnO1xyXG5pbXBvcnQgdXBsb2FkUm91dGUgZnJvbSAnLi9yb3V0ZXMvdXBsb2FkUm91dGUnO1xyXG5cclxuY29uc3QgbW9uZ29kYlVybCA9IGNvbmZpZy5NT05HT0RCX1VSTDtcclxubW9uZ29vc2VcclxuICAuY29ubmVjdChtb25nb2RiVXJsLCB7XHJcbiAgICB1c2VOZXdVcmxQYXJzZXI6IHRydWUsXHJcbiAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsXHJcbiAgICB1c2VDcmVhdGVJbmRleDogdHJ1ZSxcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUubG9nKGVycm9yLnJlYXNvbikpO1xyXG5cclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcclxuYXBwLnVzZSgnL2FwaS91cGxvYWRzJywgdXBsb2FkUm91dGUpO1xyXG5hcHAudXNlKCcvYXBpL3VzZXJzJywgdXNlclJvdXRlKTtcclxuYXBwLnVzZSgnL2FwaS9wcm9kdWN0cycsIHByb2R1Y3RSb3V0ZSk7XHJcbmFwcC51c2UoJy9hcGkvb3JkZXJzJywgb3JkZXJSb3V0ZSk7XHJcbmFwcC5nZXQoJy9hcGkvY29uZmlnL3BheXBhbCcsIChyZXEsIHJlcykgPT4ge1xyXG4gIHJlcy5zZW5kKGNvbmZpZy5QQVlQQUxfQ0xJRU5UX0lEKTtcclxufSk7XHJcbmFwcC51c2UoJy91cGxvYWRzJywgZXhwcmVzcy5zdGF0aWMocGF0aC5qb2luKF9fZGlybmFtZSwgJy8uLi91cGxvYWRzJykpKTtcclxuYXBwLnVzZShleHByZXNzLnN0YXRpYyhwYXRoLmpvaW4oX19kaXJuYW1lLCAnLy4uL2Zyb250ZW5kL2J1aWxkJykpKTtcclxuYXBwLmdldCgnKicsIChyZXEsIHJlcykgPT4ge1xyXG4gIHJlcy5zZW5kRmlsZShwYXRoLmpvaW4oYCR7X19kaXJuYW1lfS8uLi9mcm9udGVuZC9idWlsZC9pbmRleC5odG1sYCkpO1xyXG59KTtcclxuXHJcbmFwcC5saXN0ZW4oY29uZmlnLlBPUlQsICgpID0+IHtcclxuICBjb25zb2xlLmxvZygnU2VydmVyIHN0YXJ0ZWQgYXQgaHR0cDovL2xvY2FsaG9zdDo1MDAwJyk7XHJcbn0pO1xyXG4iXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQStDO0FBRS9DLE1BQU1BLFVBQVUsR0FBR0MsZUFBTSxDQUFDQyxXQUFXO0FBQ3JDQyxpQkFBUSxDQUNMQyxPQUFPLENBQUNKLFVBQVUsRUFBRTtFQUNuQkssZUFBZSxFQUFFLElBQUk7RUFDckJDLGtCQUFrQixFQUFFLElBQUk7RUFDeEJDLGNBQWMsRUFBRTtBQUNsQixDQUFDLENBQUMsQ0FDREMsS0FBSyxDQUFFQyxLQUFLLElBQUtDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRixLQUFLLENBQUNHLE1BQU0sQ0FBQyxDQUFDO0FBRTlDLE1BQU1DLEdBQUcsR0FBRyxJQUFBQyxnQkFBTyxHQUFFO0FBQ3JCRCxHQUFHLENBQUNFLEdBQUcsQ0FBQ0MsbUJBQVUsQ0FBQ0MsSUFBSSxFQUFFLENBQUM7QUFDMUJKLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLGNBQWMsRUFBRUcsb0JBQVcsQ0FBQztBQUNwQ0wsR0FBRyxDQUFDRSxHQUFHLENBQUMsWUFBWSxFQUFFSSxrQkFBUyxDQUFDO0FBQ2hDTixHQUFHLENBQUNFLEdBQUcsQ0FBQyxlQUFlLEVBQUVLLHFCQUFZLENBQUM7QUFDdENQLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLGFBQWEsRUFBRU0sbUJBQVUsQ0FBQztBQUNsQ1IsR0FBRyxDQUFDUyxHQUFHLENBQUMsb0JBQW9CLEVBQUUsQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDMUNBLEdBQUcsQ0FBQ0MsSUFBSSxDQUFDeEIsZUFBTSxDQUFDeUIsZ0JBQWdCLENBQUM7QUFDbkMsQ0FBQyxDQUFDO0FBQ0ZiLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLFVBQVUsRUFBRUQsZ0JBQU8sQ0FBQ2EsTUFBTSxDQUFDQyxhQUFJLENBQUNDLElBQUksQ0FBQ0MsU0FBUyxFQUFFLGFBQWEsQ0FBQyxDQUFDLENBQUM7QUFDeEVqQixHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ2EsTUFBTSxDQUFDQyxhQUFJLENBQUNDLElBQUksQ0FBQ0MsU0FBUyxFQUFFLG9CQUFvQixDQUFDLENBQUMsQ0FBQztBQUNuRWpCLEdBQUcsQ0FBQ1MsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUN6QkEsR0FBRyxDQUFDTyxRQUFRLENBQUNILGFBQUksQ0FBQ0MsSUFBSSxDQUFFLEdBQUVDLFNBQVUsK0JBQThCLENBQUMsQ0FBQztBQUN0RSxDQUFDLENBQUM7QUFFRmpCLEdBQUcsQ0FBQ21CLE1BQU0sQ0FBQy9CLGVBQU0sQ0FBQ2dDLElBQUksRUFBRSxNQUFNO0VBQzVCdkIsT0FBTyxDQUFDQyxHQUFHLENBQUMseUNBQXlDLENBQUM7QUFDeEQsQ0FBQyxDQUFDIn0=","map":{"version":3,"names":["mongodbUrl","config","MONGODB_URL","mongoose","connect","useNewUrlParser","useUnifiedTopology","useCreateIndex","catch","error","console","log","reason","app","express","use","bodyParser","json","uploadRoute","userRoute","productRoute","orderRoute","get","req","res","send","PAYPAL_CLIENT_ID","static","path","join","__dirname","sendFile","listen","PORT"],"sourceRoot":"C:\\Web development\\Ecommerce_shopping_website\\backend\\","sources":["server.js"],"sourcesContent":["import express from 'express';\r\nimport path from 'path';\r\nimport mongoose from 'mongoose';\r\nimport bodyParser from 'body-parser';\r\nimport config from './config';\r\nimport userRoute from './routes/userRoute';\r\nimport productRoute from './routes/productRoute';\r\nimport orderRoute from './routes/orderRoute';\r\nimport uploadRoute from './routes/uploadRoute';\r\n\r\nconst mongodbUrl = config.MONGODB_URL;\r\nmongoose\r\n  .connect(mongodbUrl, {\r\n    useNewUrlParser: true,\r\n    useUnifiedTopology: true,\r\n    useCreateIndex: true,\r\n  })\r\n  .catch((error) => console.log(error.reason));\r\n\r\nconst app = express();\r\napp.use(bodyParser.json());\r\napp.use('/api/uploads', uploadRoute);\r\napp.use('/api/users', userRoute);\r\napp.use('/api/products', productRoute);\r\napp.use('/api/orders', orderRoute);\r\napp.get('/api/config/paypal', (req, res) => {\r\n  res.send(config.PAYPAL_CLIENT_ID);\r\n});\r\napp.use('/uploads', express.static(path.join(__dirname, '/../uploads')));\r\napp.use(express.static(path.join(__dirname, '/../frontend/build')));\r\napp.get('*', (req, res) => {\r\n  res.sendFile(path.join(`${__dirname}/../frontend/build/index.html`));\r\n});\r\n\r\napp.listen(config.PORT, () => {\r\n  console.log('Server started at http://localhost:5000');\r\n});\r\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAA+C;AAE/C,MAAMA,UAAU,GAAGC,eAAM,CAACC,WAAW;AACrCC,iBAAQ,CACLC,OAAO,CAACJ,UAAU,EAAE;EACnBK,eAAe,EAAE,IAAI;EACrBC,kBAAkB,EAAE,IAAI;EACxBC,cAAc,EAAE;AAClB,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAKC,OAAO,CAACC,GAAG,CAACF,KAAK,CAACG,MAAM,CAAC,CAAC;AAE9C,MAAMC,GAAG,GAAG,IAAAC,gBAAO,GAAE;AACrBD,GAAG,CAACE,GAAG,CAACC,mBAAU,CAACC,IAAI,EAAE,CAAC;AAC1BJ,GAAG,CAACE,GAAG,CAAC,cAAc,EAAEG,oBAAW,CAAC;AACpCL,GAAG,CAACE,GAAG,CAAC,YAAY,EAAEI,kBAAS,CAAC;AAChCN,GAAG,CAACE,GAAG,CAAC,eAAe,EAAEK,qBAAY,CAAC;AACtCP,GAAG,CAACE,GAAG,CAAC,aAAa,EAAEM,mBAAU,CAAC;AAClCR,GAAG,CAACS,GAAG,CAAC,oBAAoB,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;EAC1CA,GAAG,CAACC,IAAI,CAACxB,eAAM,CAACyB,gBAAgB,CAAC;AACnC,CAAC,CAAC;AACFb,GAAG,CAACE,GAAG,CAAC,UAAU,EAAED,gBAAO,CAACa,MAAM,CAACC,aAAI,CAACC,IAAI,CAACC,SAAS,EAAE,aAAa,CAAC,CAAC,CAAC;AACxEjB,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACa,MAAM,CAACC,aAAI,CAACC,IAAI,CAACC,SAAS,EAAE,oBAAoB,CAAC,CAAC,CAAC;AACnEjB,GAAG,CAACS,GAAG,CAAC,GAAG,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;EACzBA,GAAG,CAACO,QAAQ,CAACH,aAAI,CAACC,IAAI,CAAE,GAAEC,SAAU,+BAA8B,CAAC,CAAC;AACtE,CAAC,CAAC;AAEFjB,GAAG,CAACmB,MAAM,CAAC/B,eAAM,CAACgC,IAAI,EAAE,MAAM;EAC5BvB,OAAO,CAACC,GAAG,CAAC,yCAAyC,CAAC;AACxD,CAAC,CAAC"}},"mtime":1668724072327},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\",\"filename\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\\\\backend\\\\config.js\",\"targets\":{\"android\":\"4.4.3\",\"chrome\":\"103.0.0\",\"edge\":\"105.0.0\",\"firefox\":\"105.0.0\",\"ios\":\"12.2.0\",\"opera\":\"90.0.0\",\"safari\":\"13.1.0\",\"samsung\":\"18.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n_dotenv.default.config();\nvar _default = {\n  PORT: process.env.PORT || 5000,\n  MONGODB_URL: process.env.MONGODB_URL || 'mongodb://localhost/amazona',\n  JWT_SECRET: process.env.JWT_SECRET || 'somethingsecret',\n  PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID || 'sb',\n  accessKeyId: process.env.accessKeyId || 'accessKeyId',\n  secretAccessKey: process.env.secretAccessKey || 'secretAccessKey'\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJQT1JUIiwicHJvY2VzcyIsImVudiIsIk1PTkdPREJfVVJMIiwiSldUX1NFQ1JFVCIsIlBBWVBBTF9DTElFTlRfSUQiLCJhY2Nlc3NLZXlJZCIsInNlY3JldEFjY2Vzc0tleSJdLCJzb3VyY2VSb290IjoiQzpcXFdlYiBkZXZlbG9wbWVudFxcRWNvbW1lcmNlX3Nob3BwaW5nX3dlYnNpdGVcXGJhY2tlbmRcXCIsInNvdXJjZXMiOlsiY29uZmlnLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcclxuXHJcbmRvdGVudi5jb25maWcoKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBQT1JUOiBwcm9jZXNzLmVudi5QT1JUIHx8IDUwMDAsXHJcbiAgTU9OR09EQl9VUkw6IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJMIHx8ICdtb25nb2RiOi8vbG9jYWxob3N0L2FtYXpvbmEnLFxyXG4gIEpXVF9TRUNSRVQ6IHByb2Nlc3MuZW52LkpXVF9TRUNSRVQgfHwgJ3NvbWV0aGluZ3NlY3JldCcsXHJcbiAgUEFZUEFMX0NMSUVOVF9JRDogcHJvY2Vzcy5lbnYuUEFZUEFMX0NMSUVOVF9JRCB8fCAnc2InLFxyXG4gIGFjY2Vzc0tleUlkOiBwcm9jZXNzLmVudi5hY2Nlc3NLZXlJZCB8fCAnYWNjZXNzS2V5SWQnLFxyXG4gIHNlY3JldEFjY2Vzc0tleTogcHJvY2Vzcy5lbnYuc2VjcmV0QWNjZXNzS2V5IHx8ICdzZWNyZXRBY2Nlc3NLZXknLFxyXG59O1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQTRCO0FBRTVCQSxlQUFNLENBQUNDLE1BQU0sRUFBRTtBQUFDLGVBRUQ7RUFDYkMsSUFBSSxFQUFFQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsSUFBSSxJQUFJLElBQUk7RUFDOUJHLFdBQVcsRUFBRUYsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFdBQVcsSUFBSSw2QkFBNkI7RUFDckVDLFVBQVUsRUFBRUgsT0FBTyxDQUFDQyxHQUFHLENBQUNFLFVBQVUsSUFBSSxpQkFBaUI7RUFDdkRDLGdCQUFnQixFQUFFSixPQUFPLENBQUNDLEdBQUcsQ0FBQ0csZ0JBQWdCLElBQUksSUFBSTtFQUN0REMsV0FBVyxFQUFFTCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0ksV0FBVyxJQUFJLGFBQWE7RUFDckRDLGVBQWUsRUFBRU4sT0FBTyxDQUFDQyxHQUFHLENBQUNLLGVBQWUsSUFBSTtBQUNsRCxDQUFDO0FBQUEifQ==","map":{"version":3,"names":["dotenv","config","PORT","process","env","MONGODB_URL","JWT_SECRET","PAYPAL_CLIENT_ID","accessKeyId","secretAccessKey"],"sourceRoot":"C:\\Web development\\Ecommerce_shopping_website\\backend\\","sources":["config.js"],"sourcesContent":["import dotenv from 'dotenv';\r\n\r\ndotenv.config();\r\n\r\nexport default {\r\n  PORT: process.env.PORT || 5000,\r\n  MONGODB_URL: process.env.MONGODB_URL || 'mongodb://localhost/amazona',\r\n  JWT_SECRET: process.env.JWT_SECRET || 'somethingsecret',\r\n  PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID || 'sb',\r\n  accessKeyId: process.env.accessKeyId || 'accessKeyId',\r\n  secretAccessKey: process.env.secretAccessKey || 'secretAccessKey',\r\n};\r\n"],"mappings":";;;;;;AAAA;AAA4B;AAE5BA,eAAM,CAACC,MAAM,EAAE;AAAC,eAED;EACbC,IAAI,EAAEC,OAAO,CAACC,GAAG,CAACF,IAAI,IAAI,IAAI;EAC9BG,WAAW,EAAEF,OAAO,CAACC,GAAG,CAACC,WAAW,IAAI,6BAA6B;EACrEC,UAAU,EAAEH,OAAO,CAACC,GAAG,CAACE,UAAU,IAAI,iBAAiB;EACvDC,gBAAgB,EAAEJ,OAAO,CAACC,GAAG,CAACG,gBAAgB,IAAI,IAAI;EACtDC,WAAW,EAAEL,OAAO,CAACC,GAAG,CAACI,WAAW,IAAI,aAAa;EACrDC,eAAe,EAAEN,OAAO,CAACC,GAAG,CAACK,eAAe,IAAI;AAClD,CAAC;AAAA"}},"mtime":1668722277964},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\\\\backend\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\",\"filename\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\\\\backend\\\\routes\\\\userRoute.js\",\"targets\":{\"android\":\"4.4.3\",\"chrome\":\"103.0.0\",\"edge\":\"105.0.0\",\"firefox\":\"105.0.0\",\"ios\":\"12.2.0\",\"opera\":\"90.0.0\",\"safari\":\"13.1.0\",\"samsung\":\"18.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _userModel = _interopRequireDefault(require(\"../models/userModel\"));\nvar _util = require(\"../util\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\nrouter.put('/:id', _util.isAuth, async (req, res) => {\n  const userId = req.params.id;\n  const user = await _userModel.default.findById(userId);\n  if (user) {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n    user.password = req.body.password || user.password;\n    const updatedUser = await user.save();\n    res.send({\n      _id: updatedUser.id,\n      name: updatedUser.name,\n      email: updatedUser.email,\n      isAdmin: updatedUser.isAdmin,\n      token: (0, _util.getToken)(updatedUser)\n    });\n  } else {\n    res.status(404).send({\n      message: 'User Not Found'\n    });\n  }\n});\nrouter.post('/signin', async (req, res) => {\n  const signinUser = await _userModel.default.findOne({\n    email: req.body.email,\n    password: req.body.password\n  });\n  if (signinUser) {\n    res.send({\n      _id: signinUser.id,\n      name: signinUser.name,\n      email: signinUser.email,\n      isAdmin: signinUser.isAdmin,\n      token: (0, _util.getToken)(signinUser)\n    });\n  } else {\n    res.status(401).send({\n      message: 'Invalid Email or Password.'\n    });\n  }\n});\nrouter.post('/register', async (req, res) => {\n  const user = new _userModel.default({\n    name: req.body.name,\n    email: req.body.email,\n    password: req.body.password\n  });\n  const newUser = await user.save();\n  if (newUser) {\n    res.send({\n      _id: newUser.id,\n      name: newUser.name,\n      email: newUser.email,\n      isAdmin: newUser.isAdmin,\n      token: (0, _util.getToken)(newUser)\n    });\n  } else {\n    res.status(401).send({\n      message: 'Invalid User Data.'\n    });\n  }\n});\nrouter.get('/createadmin', async (req, res) => {\n  try {\n    const user = new _userModel.default({\n      name: 'Basir',\n      email: 'admin@example.com',\n      password: '1234',\n      isAdmin: true\n    });\n    const newUser = await user.save();\n    res.send(newUser);\n  } catch (error) {\n    res.send({\n      message: error.message\n    });\n  }\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicHV0IiwiaXNBdXRoIiwicmVxIiwicmVzIiwidXNlcklkIiwicGFyYW1zIiwiaWQiLCJ1c2VyIiwiVXNlciIsImZpbmRCeUlkIiwibmFtZSIsImJvZHkiLCJlbWFpbCIsInBhc3N3b3JkIiwidXBkYXRlZFVzZXIiLCJzYXZlIiwic2VuZCIsIl9pZCIsImlzQWRtaW4iLCJ0b2tlbiIsImdldFRva2VuIiwic3RhdHVzIiwibWVzc2FnZSIsInBvc3QiLCJzaWduaW5Vc2VyIiwiZmluZE9uZSIsIm5ld1VzZXIiLCJnZXQiLCJlcnJvciJdLCJzb3VyY2VSb290IjoiQzpcXFdlYiBkZXZlbG9wbWVudFxcRWNvbW1lcmNlX3Nob3BwaW5nX3dlYnNpdGVcXGJhY2tlbmRcXHJvdXRlc1xcIiwic291cmNlcyI6WyJ1c2VyUm91dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCBVc2VyIGZyb20gJy4uL21vZGVscy91c2VyTW9kZWwnO1xyXG5pbXBvcnQgeyBnZXRUb2tlbiwgaXNBdXRoIH0gZnJvbSAnLi4vdXRpbCc7XHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxucm91dGVyLnB1dCgnLzppZCcsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgdXNlcklkID0gcmVxLnBhcmFtcy5pZDtcclxuICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZCh1c2VySWQpO1xyXG4gIGlmICh1c2VyKSB7XHJcbiAgICB1c2VyLm5hbWUgPSByZXEuYm9keS5uYW1lIHx8IHVzZXIubmFtZTtcclxuICAgIHVzZXIuZW1haWwgPSByZXEuYm9keS5lbWFpbCB8fCB1c2VyLmVtYWlsO1xyXG4gICAgdXNlci5wYXNzd29yZCA9IHJlcS5ib2R5LnBhc3N3b3JkIHx8IHVzZXIucGFzc3dvcmQ7XHJcbiAgICBjb25zdCB1cGRhdGVkVXNlciA9IGF3YWl0IHVzZXIuc2F2ZSgpO1xyXG4gICAgcmVzLnNlbmQoe1xyXG4gICAgICBfaWQ6IHVwZGF0ZWRVc2VyLmlkLFxyXG4gICAgICBuYW1lOiB1cGRhdGVkVXNlci5uYW1lLFxyXG4gICAgICBlbWFpbDogdXBkYXRlZFVzZXIuZW1haWwsXHJcbiAgICAgIGlzQWRtaW46IHVwZGF0ZWRVc2VyLmlzQWRtaW4sXHJcbiAgICAgIHRva2VuOiBnZXRUb2tlbih1cGRhdGVkVXNlciksXHJcbiAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnVXNlciBOb3QgRm91bmQnIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG5yb3V0ZXIucG9zdCgnL3NpZ25pbicsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IHNpZ25pblVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe1xyXG4gICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxyXG4gICAgcGFzc3dvcmQ6IHJlcS5ib2R5LnBhc3N3b3JkLFxyXG4gIH0pO1xyXG4gIGlmIChzaWduaW5Vc2VyKSB7XHJcbiAgICByZXMuc2VuZCh7XHJcbiAgICAgIF9pZDogc2lnbmluVXNlci5pZCxcclxuICAgICAgbmFtZTogc2lnbmluVXNlci5uYW1lLFxyXG4gICAgICBlbWFpbDogc2lnbmluVXNlci5lbWFpbCxcclxuICAgICAgaXNBZG1pbjogc2lnbmluVXNlci5pc0FkbWluLFxyXG4gICAgICB0b2tlbjogZ2V0VG9rZW4oc2lnbmluVXNlciksXHJcbiAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBtZXNzYWdlOiAnSW52YWxpZCBFbWFpbCBvciBQYXNzd29yZC4nIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG5yb3V0ZXIucG9zdCgnL3JlZ2lzdGVyJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgdXNlciA9IG5ldyBVc2VyKHtcclxuICAgIG5hbWU6IHJlcS5ib2R5Lm5hbWUsXHJcbiAgICBlbWFpbDogcmVxLmJvZHkuZW1haWwsXHJcbiAgICBwYXNzd29yZDogcmVxLmJvZHkucGFzc3dvcmQsXHJcbiAgfSk7XHJcbiAgY29uc3QgbmV3VXNlciA9IGF3YWl0IHVzZXIuc2F2ZSgpO1xyXG4gIGlmIChuZXdVc2VyKSB7XHJcbiAgICByZXMuc2VuZCh7XHJcbiAgICAgIF9pZDogbmV3VXNlci5pZCxcclxuICAgICAgbmFtZTogbmV3VXNlci5uYW1lLFxyXG4gICAgICBlbWFpbDogbmV3VXNlci5lbWFpbCxcclxuICAgICAgaXNBZG1pbjogbmV3VXNlci5pc0FkbWluLFxyXG4gICAgICB0b2tlbjogZ2V0VG9rZW4obmV3VXNlciksXHJcbiAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBtZXNzYWdlOiAnSW52YWxpZCBVc2VyIERhdGEuJyB9KTtcclxuICB9XHJcbn0pO1xyXG5cclxucm91dGVyLmdldCgnL2NyZWF0ZWFkbWluJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcih7XHJcbiAgICAgIG5hbWU6ICdCYXNpcicsXHJcbiAgICAgIGVtYWlsOiAnYWRtaW5AZXhhbXBsZS5jb20nLFxyXG4gICAgICBwYXNzd29yZDogJzEyMzQnLFxyXG4gICAgICBpc0FkbWluOiB0cnVlLFxyXG4gICAgfSk7XHJcbiAgICBjb25zdCBuZXdVc2VyID0gYXdhaXQgdXNlci5zYXZlKCk7XHJcbiAgICByZXMuc2VuZChuZXdVc2VyKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmVzLnNlbmQoeyBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQTJDO0FB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","map":{"version":3,"names":["router","express","Router","put","isAuth","req","res","userId","params","id","user","User","findById","name","body","email","password","updatedUser","save","send","_id","isAdmin","token","getToken","status","message","post","signinUser","findOne","newUser","get","error"],"sourceRoot":"C:\\Web development\\Ecommerce_shopping_website\\backend\\routes\\","sources":["userRoute.js"],"sourcesContent":["import express from 'express';\r\nimport User from '../models/userModel';\r\nimport { getToken, isAuth } from '../util';\r\n\r\nconst router = express.Router();\r\n\r\nrouter.put('/:id', isAuth, async (req, res) => {\r\n  const userId = req.params.id;\r\n  const user = await User.findById(userId);\r\n  if (user) {\r\n    user.name = req.body.name || user.name;\r\n    user.email = req.body.email || user.email;\r\n    user.password = req.body.password || user.password;\r\n    const updatedUser = await user.save();\r\n    res.send({\r\n      _id: updatedUser.id,\r\n      name: updatedUser.name,\r\n      email: updatedUser.email,\r\n      isAdmin: updatedUser.isAdmin,\r\n      token: getToken(updatedUser),\r\n    });\r\n  } else {\r\n    res.status(404).send({ message: 'User Not Found' });\r\n  }\r\n});\r\n\r\nrouter.post('/signin', async (req, res) => {\r\n  const signinUser = await User.findOne({\r\n    email: req.body.email,\r\n    password: req.body.password,\r\n  });\r\n  if (signinUser) {\r\n    res.send({\r\n      _id: signinUser.id,\r\n      name: signinUser.name,\r\n      email: signinUser.email,\r\n      isAdmin: signinUser.isAdmin,\r\n      token: getToken(signinUser),\r\n    });\r\n  } else {\r\n    res.status(401).send({ message: 'Invalid Email or Password.' });\r\n  }\r\n});\r\n\r\nrouter.post('/register', async (req, res) => {\r\n  const user = new User({\r\n    name: req.body.name,\r\n    email: req.body.email,\r\n    password: req.body.password,\r\n  });\r\n  const newUser = await user.save();\r\n  if (newUser) {\r\n    res.send({\r\n      _id: newUser.id,\r\n      name: newUser.name,\r\n      email: newUser.email,\r\n      isAdmin: newUser.isAdmin,\r\n      token: getToken(newUser),\r\n    });\r\n  } else {\r\n    res.status(401).send({ message: 'Invalid User Data.' });\r\n  }\r\n});\r\n\r\nrouter.get('/createadmin', async (req, res) => {\r\n  try {\r\n    const user = new User({\r\n      name: 'Basir',\r\n      email: 'admin@example.com',\r\n      password: '1234',\r\n      isAdmin: true,\r\n    });\r\n    const newUser = await user.save();\r\n    res.send(newUser);\r\n  } catch (error) {\r\n    res.send({ message: error.message });\r\n  }\r\n});\r\n\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA;AACA;AACA;AAA2C;AAE3C,MAAMA,MAAM,GAAGC,gBAAO,CAACC,MAAM,EAAE;AAE/BF,MAAM,CAACG,GAAG,CAAC,MAAM,EAAEC,YAAM,EAAE,OAAOC,GAAG,EAAEC,GAAG,KAAK;EAC7C,MAAMC,MAAM,GAAGF,GAAG,CAACG,MAAM,CAACC,EAAE;EAC5B,MAAMC,IAAI,GAAG,MAAMC,kBAAI,CAACC,QAAQ,CAACL,MAAM,CAAC;EACxC,IAAIG,IAAI,EAAE;IACRA,IAAI,CAACG,IAAI,GAAGR,GAAG,CAACS,IAAI,CAACD,IAAI,IAAIH,IAAI,CAACG,IAAI;IACtCH,IAAI,CAACK,KAAK,GAAGV,GAAG,CAACS,IAAI,CAACC,KAAK,IAAIL,IAAI,CAACK,KAAK;IACzCL,IAAI,CAACM,QAAQ,GAAGX,GAAG,CAACS,IAAI,CAACE,QAAQ,IAAIN,IAAI,CAACM,QAAQ;IAClD,MAAMC,WAAW,GAAG,MAAMP,IAAI,CAACQ,IAAI,EAAE;IACrCZ,GAAG,CAACa,IAAI,CAAC;MACPC,GAAG,EAAEH,WAAW,CAACR,EAAE;MACnBI,IAAI,EAAEI,WAAW,CAACJ,IAAI;MACtBE,KAAK,EAAEE,WAAW,CAACF,KAAK;MACxBM,OAAO,EAAEJ,WAAW,CAACI,OAAO;MAC5BC,KAAK,EAAE,IAAAC,cAAQ,EAACN,WAAW;IAC7B,CAAC,CAAC;EACJ,CAAC,MAAM;IACLX,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACL,IAAI,CAAC;MAAEM,OAAO,EAAE;IAAiB,CAAC,CAAC;EACrD;AACF,CAAC,CAAC;AAEFzB,MAAM,CAAC0B,IAAI,CAAC,SAAS,EAAE,OAAOrB,GAAG,EAAEC,GAAG,KAAK;EACzC,MAAMqB,UAAU,GAAG,MAAMhB,kBAAI,CAACiB,OAAO,CAAC;IACpCb,KAAK,EAAEV,GAAG,CAACS,IAAI,CAACC,KAAK;IACrBC,QAAQ,EAAEX,GAAG,CAACS,IAAI,CAACE;EACrB,CAAC,CAAC;EACF,IAAIW,UAAU,EAAE;IACdrB,GAAG,CAACa,IAAI,CAAC;MACPC,GAAG,EAAEO,UAAU,CAAClB,EAAE;MAClBI,IAAI,EAAEc,UAAU,CAACd,IAAI;MACrBE,KAAK,EAAEY,UAAU,CAACZ,KAAK;MACvBM,OAAO,EAAEM,UAAU,CAACN,OAAO;MAC3BC,KAAK,EAAE,IAAAC,cAAQ,EAACI,UAAU;IAC5B,CAAC,CAAC;EACJ,CAAC,MAAM;IACLrB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACL,IAAI,CAAC;MAAEM,OAAO,EAAE;IAA6B,CAAC,CAAC;EACjE;AACF,CAAC,CAAC;AAEFzB,MAAM,CAAC0B,IAAI,CAAC,WAAW,EAAE,OAAOrB,GAAG,EAAEC,GAAG,KAAK;EAC3C,MAAMI,IAAI,GAAG,IAAIC,kBAAI,CAAC;IACpBE,IAAI,EAAER,GAAG,CAACS,IAAI,CAACD,IAAI;IACnBE,KAAK,EAAEV,GAAG,CAACS,IAAI,CAACC,KAAK;IACrBC,QAAQ,EAAEX,GAAG,CAACS,IAAI,CAACE;EACrB,CAAC,CAAC;EACF,MAAMa,OAAO,GAAG,MAAMnB,IAAI,CAACQ,IAAI,EAAE;EACjC,IAAIW,OAAO,EAAE;IACXvB,GAAG,CAACa,IAAI,CAAC;MACPC,GAAG,EAAES,OAAO,CAACpB,EAAE;MACfI,IAAI,EAAEgB,OAAO,CAAChB,IAAI;MAClBE,KAAK,EAAEc,OAAO,CAACd,KAAK;MACpBM,OAAO,EAAEQ,OAAO,CAACR,OAAO;MACxBC,KAAK,EAAE,IAAAC,cAAQ,EAACM,OAAO;IACzB,CAAC,CAAC;EACJ,CAAC,MAAM;IACLvB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACL,IAAI,CAAC;MAAEM,OAAO,EAAE;IAAqB,CAAC,CAAC;EACzD;AACF,CAAC,CAAC;AAEFzB,MAAM,CAAC8B,GAAG,CAAC,cAAc,EAAE,OAAOzB,GAAG,EAAEC,GAAG,KAAK;EAC7C,IAAI;IACF,MAAMI,IAAI,GAAG,IAAIC,kBAAI,CAAC;MACpBE,IAAI,EAAE,OAAO;MACbE,KAAK,EAAE,mBAAmB;MAC1BC,QAAQ,EAAE,MAAM;MAChBK,OAAO,EAAE;IACX,CAAC,CAAC;IACF,MAAMQ,OAAO,GAAG,MAAMnB,IAAI,CAACQ,IAAI,EAAE;IACjCZ,GAAG,CAACa,IAAI,CAACU,OAAO,CAAC;EACnB,CAAC,CAAC,OAAOE,KAAK,EAAE;IACdzB,GAAG,CAACa,IAAI,CAAC;MAAEM,OAAO,EAAEM,KAAK,CAACN;IAAQ,CAAC,CAAC;EACtC;AACF,CAAC,CAAC;AAAC,eAEYzB,MAAM;AAAA"}},"mtime":1668722272992},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\",\"filename\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\\\\backend\\\\models\\\\userModel.js\",\"targets\":{\"android\":\"4.4.3\",\"chrome\":\"103.0.0\",\"edge\":\"105.0.0\",\"firefox\":\"105.0.0\",\"ios\":\"12.2.0\",\"opera\":\"90.0.0\",\"safari\":\"13.1.0\",\"samsung\":\"18.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst userSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true,\n    unique: true,\n    index: true,\n    dropDups: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  isAdmin: {\n    type: Boolean,\n    required: true,\n    default: false\n  }\n});\nconst userModel = _mongoose.default.model('User', userSchema);\nvar _default = userModel;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiZW1haWwiLCJ1bmlxdWUiLCJpbmRleCIsImRyb3BEdXBzIiwicGFzc3dvcmQiLCJpc0FkbWluIiwiQm9vbGVhbiIsImRlZmF1bHQiLCJ1c2VyTW9kZWwiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiQzpcXFdlYiBkZXZlbG9wbWVudFxcRWNvbW1lcmNlX3Nob3BwaW5nX3dlYnNpdGVcXGJhY2tlbmRcXG1vZGVsc1xcIiwic291cmNlcyI6WyJ1c2VyTW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuXHJcbmNvbnN0IHVzZXJTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcclxuICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBlbWFpbDoge1xyXG4gICAgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgdW5pcXVlOiB0cnVlLCBpbmRleDogdHJ1ZSwgZHJvcER1cHM6IHRydWUsXHJcbiAgfSxcclxuICBwYXNzd29yZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgaXNBZG1pbjogeyB0eXBlOiBCb29sZWFuLCByZXF1aXJlZDogdHJ1ZSwgZGVmYXVsdDogZmFsc2UgfSxcclxufSk7XHJcblxyXG5jb25zdCB1c2VyTW9kZWwgPSBtb25nb29zZS5tb2RlbCgnVXNlcicsIHVzZXJTY2hlbWEpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXNlck1vZGVsO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQWdDO0FBRWhDLE1BQU1BLFVBQVUsR0FBRyxJQUFJQyxpQkFBUSxDQUFDQyxNQUFNLENBQUM7RUFDckNDLElBQUksRUFBRTtJQUFFQyxJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUN0Q0MsS0FBSyxFQUFFO0lBQ0xILElBQUksRUFBRUMsTUFBTTtJQUFFQyxRQUFRLEVBQUUsSUFBSTtJQUFFRSxNQUFNLEVBQUUsSUFBSTtJQUFFQyxLQUFLLEVBQUUsSUFBSTtJQUFFQyxRQUFRLEVBQUU7RUFDckUsQ0FBQztFQUNEQyxRQUFRLEVBQUU7SUFBRVAsSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFFBQVEsRUFBRTtFQUFLLENBQUM7RUFDMUNNLE9BQU8sRUFBRTtJQUFFUixJQUFJLEVBQUVTLE9BQU87SUFBRVAsUUFBUSxFQUFFLElBQUk7SUFBRVEsT0FBTyxFQUFFO0VBQU07QUFDM0QsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsU0FBUyxHQUFHZCxpQkFBUSxDQUFDZSxLQUFLLENBQUMsTUFBTSxFQUFFaEIsVUFBVSxDQUFDO0FBQUMsZUFFdENlLFNBQVM7QUFBQSJ9","map":{"version":3,"names":["userSchema","mongoose","Schema","name","type","String","required","email","unique","index","dropDups","password","isAdmin","Boolean","default","userModel","model"],"sourceRoot":"C:\\Web development\\Ecommerce_shopping_website\\backend\\models\\","sources":["userModel.js"],"sourcesContent":["import mongoose from 'mongoose';\r\n\r\nconst userSchema = new mongoose.Schema({\r\n  name: { type: String, required: true },\r\n  email: {\r\n    type: String, required: true, unique: true, index: true, dropDups: true,\r\n  },\r\n  password: { type: String, required: true },\r\n  isAdmin: { type: Boolean, required: true, default: false },\r\n});\r\n\r\nconst userModel = mongoose.model('User', userSchema);\r\n\r\nexport default userModel;\r\n"],"mappings":";;;;;;AAAA;AAAgC;AAEhC,MAAMA,UAAU,GAAG,IAAIC,iBAAQ,CAACC,MAAM,CAAC;EACrCC,IAAI,EAAE;IAAEC,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACtCC,KAAK,EAAE;IACLH,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE,IAAI;IAAEE,MAAM,EAAE,IAAI;IAAEC,KAAK,EAAE,IAAI;IAAEC,QAAQ,EAAE;EACrE,CAAC;EACDC,QAAQ,EAAE;IAAEP,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAC1CM,OAAO,EAAE;IAAER,IAAI,EAAES,OAAO;IAAEP,QAAQ,EAAE,IAAI;IAAEQ,OAAO,EAAE;EAAM;AAC3D,CAAC,CAAC;AAEF,MAAMC,SAAS,GAAGd,iBAAQ,CAACe,KAAK,CAAC,MAAM,EAAEhB,UAAU,CAAC;AAAC,eAEtCe,SAAS;AAAA"}},"mtime":1668722256321},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\",\"filename\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\\\\backend\\\\util.js\",\"targets\":{\"android\":\"4.4.3\",\"chrome\":\"103.0.0\",\"edge\":\"105.0.0\",\"firefox\":\"105.0.0\",\"ios\":\"12.2.0\",\"opera\":\"90.0.0\",\"safari\":\"13.1.0\",\"samsung\":\"18.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isAuth = exports.isAdmin = exports.getToken = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _config = _interopRequireDefault(require(\"./config\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst getToken = user => {\n  return _jsonwebtoken.default.sign({\n    _id: user._id,\n    name: user.name,\n    email: user.email,\n    isAdmin: user.isAdmin\n  }, _config.default.JWT_SECRET, {\n    expiresIn: '48h'\n  });\n};\nexports.getToken = getToken;\nconst isAuth = (req, res, next) => {\n  const token = req.headers.authorization;\n  if (token) {\n    const onlyToken = token.slice(7, token.length);\n    _jsonwebtoken.default.verify(onlyToken, _config.default.JWT_SECRET, (err, decode) => {\n      if (err) {\n        return res.status(401).send({\n          message: 'Invalid Token'\n        });\n      }\n      req.user = decode;\n      next();\n      return;\n    });\n  } else {\n    return res.status(401).send({\n      message: 'Token is not supplied.'\n    });\n  }\n};\nexports.isAuth = isAuth;\nconst isAdmin = (req, res, next) => {\n  console.log(req.user);\n  if (req.user && req.user.isAdmin) {\n    return next();\n  }\n  return res.status(401).send({\n    message: 'Admin Token is not valid.'\n  });\n};\nexports.isAdmin = isAdmin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZXRUb2tlbiIsInVzZXIiLCJqd3QiLCJzaWduIiwiX2lkIiwibmFtZSIsImVtYWlsIiwiaXNBZG1pbiIsImNvbmZpZyIsIkpXVF9TRUNSRVQiLCJleHBpcmVzSW4iLCJpc0F1dGgiLCJyZXEiLCJyZXMiLCJuZXh0IiwidG9rZW4iLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsIm9ubHlUb2tlbiIsInNsaWNlIiwibGVuZ3RoIiwidmVyaWZ5IiwiZXJyIiwiZGVjb2RlIiwic3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiJDOlxcV2ViIGRldmVsb3BtZW50XFxFY29tbWVyY2Vfc2hvcHBpbmdfd2Vic2l0ZVxcYmFja2VuZFxcIiwic291cmNlcyI6WyJ1dGlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcclxuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZyc7XHJcbmNvbnN0IGdldFRva2VuID0gKHVzZXIpID0+IHtcclxuICByZXR1cm4gand0LnNpZ24oXHJcbiAgICB7XHJcbiAgICAgIF9pZDogdXNlci5faWQsXHJcbiAgICAgIG5hbWU6IHVzZXIubmFtZSxcclxuICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgIGlzQWRtaW46IHVzZXIuaXNBZG1pbixcclxuICAgIH0sXHJcbiAgICBjb25maWcuSldUX1NFQ1JFVCxcclxuICAgIHtcclxuICAgICAgZXhwaXJlc0luOiAnNDhoJyxcclxuICAgIH1cclxuICApO1xyXG59O1xyXG5cclxuY29uc3QgaXNBdXRoID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgY29uc3QgdG9rZW4gPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uO1xyXG5cclxuICBpZiAodG9rZW4pIHtcclxuICAgIGNvbnN0IG9ubHlUb2tlbiA9IHRva2VuLnNsaWNlKDcsIHRva2VuLmxlbmd0aCk7XHJcbiAgICBqd3QudmVyaWZ5KG9ubHlUb2tlbiwgY29uZmlnLkpXVF9TRUNSRVQsIChlcnIsIGRlY29kZSkgPT4ge1xyXG4gICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ0ludmFsaWQgVG9rZW4nIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIHJlcS51c2VyID0gZGVjb2RlO1xyXG4gICAgICBuZXh0KCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBtZXNzYWdlOiAnVG9rZW4gaXMgbm90IHN1cHBsaWVkLicgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgaXNBZG1pbiA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKHJlcS51c2VyKTtcclxuICBpZiAocmVxLnVzZXIgJiYgcmVxLnVzZXIuaXNBZG1pbikge1xyXG4gICAgcmV0dXJuIG5leHQoKTtcclxuICB9XHJcbiAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ0FkbWluIFRva2VuIGlzIG5vdCB2YWxpZC4nIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IHsgZ2V0VG9rZW4sIGlzQXV0aCwgaXNBZG1pbiB9O1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFBOEI7QUFDOUIsTUFBTUEsUUFBUSxHQUFJQyxJQUFJLElBQUs7RUFDekIsT0FBT0MscUJBQUcsQ0FBQ0MsSUFBSSxDQUNiO0lBQ0VDLEdBQUcsRUFBRUgsSUFBSSxDQUFDRyxHQUFHO0lBQ2JDLElBQUksRUFBRUosSUFBSSxDQUFDSSxJQUFJO0lBQ2ZDLEtBQUssRUFBRUwsSUFBSSxDQUFDSyxLQUFLO0lBQ2pCQyxPQUFPLEVBQUVOLElBQUksQ0FBQ007RUFDaEIsQ0FBQyxFQUNEQyxlQUFNLENBQUNDLFVBQVUsRUFDakI7SUFDRUMsU0FBUyxFQUFFO0VBQ2IsQ0FBQyxDQUNGO0FBQ0gsQ0FBQztBQUFDO0FBRUYsTUFBTUMsTUFBTSxHQUFHLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7RUFDakMsTUFBTUMsS0FBSyxHQUFHSCxHQUFHLENBQUNJLE9BQU8sQ0FBQ0MsYUFBYTtFQUV2QyxJQUFJRixLQUFLLEVBQUU7SUFDVCxNQUFNRyxTQUFTLEdBQUdILEtBQUssQ0FBQ0ksS0FBSyxDQUFDLENBQUMsRUFBRUosS0FBSyxDQUFDSyxNQUFNLENBQUM7SUFDOUNsQixxQkFBRyxDQUFDbUIsTUFBTSxDQUFDSCxTQUFTLEVBQUVWLGVBQU0sQ0FBQ0MsVUFBVSxFQUFFLENBQUNhLEdBQUcsRUFBRUMsTUFBTSxLQUFLO01BQ3hELElBQUlELEdBQUcsRUFBRTtRQUNQLE9BQU9ULEdBQUcsQ0FBQ1csTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7VUFBRUMsT0FBTyxFQUFFO1FBQWdCLENBQUMsQ0FBQztNQUMzRDtNQUNBZCxHQUFHLENBQUNYLElBQUksR0FBR3NCLE1BQU07TUFDakJULElBQUksRUFBRTtNQUNOO0lBQ0YsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxNQUFNO0lBQ0wsT0FBT0QsR0FBRyxDQUFDVyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUFFQyxPQUFPLEVBQUU7SUFBeUIsQ0FBQyxDQUFDO0VBQ3BFO0FBQ0YsQ0FBQztBQUFDO0FBRUYsTUFBTW5CLE9BQU8sR0FBRyxDQUFDSyxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0VBQ2xDYSxPQUFPLENBQUNDLEdBQUcsQ0FBQ2hCLEdBQUcsQ0FBQ1gsSUFBSSxDQUFDO0VBQ3JCLElBQUlXLEdBQUcsQ0FBQ1gsSUFBSSxJQUFJVyxHQUFHLENBQUNYLElBQUksQ0FBQ00sT0FBTyxFQUFFO0lBQ2hDLE9BQU9PLElBQUksRUFBRTtFQUNmO0VBQ0EsT0FBT0QsR0FBRyxDQUFDVyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztJQUFFQyxPQUFPLEVBQUU7RUFBNEIsQ0FBQyxDQUFDO0FBQ3ZFLENBQUM7QUFBQyJ9","map":{"version":3,"names":["getToken","user","jwt","sign","_id","name","email","isAdmin","config","JWT_SECRET","expiresIn","isAuth","req","res","next","token","headers","authorization","onlyToken","slice","length","verify","err","decode","status","send","message","console","log"],"sourceRoot":"C:\\Web development\\Ecommerce_shopping_website\\backend\\","sources":["util.js"],"sourcesContent":["import jwt from 'jsonwebtoken';\r\nimport config from './config';\r\nconst getToken = (user) => {\r\n  return jwt.sign(\r\n    {\r\n      _id: user._id,\r\n      name: user.name,\r\n      email: user.email,\r\n      isAdmin: user.isAdmin,\r\n    },\r\n    config.JWT_SECRET,\r\n    {\r\n      expiresIn: '48h',\r\n    }\r\n  );\r\n};\r\n\r\nconst isAuth = (req, res, next) => {\r\n  const token = req.headers.authorization;\r\n\r\n  if (token) {\r\n    const onlyToken = token.slice(7, token.length);\r\n    jwt.verify(onlyToken, config.JWT_SECRET, (err, decode) => {\r\n      if (err) {\r\n        return res.status(401).send({ message: 'Invalid Token' });\r\n      }\r\n      req.user = decode;\r\n      next();\r\n      return;\r\n    });\r\n  } else {\r\n    return res.status(401).send({ message: 'Token is not supplied.' });\r\n  }\r\n};\r\n\r\nconst isAdmin = (req, res, next) => {\r\n  console.log(req.user);\r\n  if (req.user && req.user.isAdmin) {\r\n    return next();\r\n  }\r\n  return res.status(401).send({ message: 'Admin Token is not valid.' });\r\n};\r\n\r\nexport { getToken, isAuth, isAdmin };\r\n"],"mappings":";;;;;;AAAA;AACA;AAA8B;AAC9B,MAAMA,QAAQ,GAAIC,IAAI,IAAK;EACzB,OAAOC,qBAAG,CAACC,IAAI,CACb;IACEC,GAAG,EAAEH,IAAI,CAACG,GAAG;IACbC,IAAI,EAAEJ,IAAI,CAACI,IAAI;IACfC,KAAK,EAAEL,IAAI,CAACK,KAAK;IACjBC,OAAO,EAAEN,IAAI,CAACM;EAChB,CAAC,EACDC,eAAM,CAACC,UAAU,EACjB;IACEC,SAAS,EAAE;EACb,CAAC,CACF;AACH,CAAC;AAAC;AAEF,MAAMC,MAAM,GAAG,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EACjC,MAAMC,KAAK,GAAGH,GAAG,CAACI,OAAO,CAACC,aAAa;EAEvC,IAAIF,KAAK,EAAE;IACT,MAAMG,SAAS,GAAGH,KAAK,CAACI,KAAK,CAAC,CAAC,EAAEJ,KAAK,CAACK,MAAM,CAAC;IAC9ClB,qBAAG,CAACmB,MAAM,CAACH,SAAS,EAAEV,eAAM,CAACC,UAAU,EAAE,CAACa,GAAG,EAAEC,MAAM,KAAK;MACxD,IAAID,GAAG,EAAE;QACP,OAAOT,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAAEC,OAAO,EAAE;QAAgB,CAAC,CAAC;MAC3D;MACAd,GAAG,CAACX,IAAI,GAAGsB,MAAM;MACjBT,IAAI,EAAE;MACN;IACF,CAAC,CAAC;EACJ,CAAC,MAAM;IACL,OAAOD,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,OAAO,EAAE;IAAyB,CAAC,CAAC;EACpE;AACF,CAAC;AAAC;AAEF,MAAMnB,OAAO,GAAG,CAACK,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EAClCa,OAAO,CAACC,GAAG,CAAChB,GAAG,CAACX,IAAI,CAAC;EACrB,IAAIW,GAAG,CAACX,IAAI,IAAIW,GAAG,CAACX,IAAI,CAACM,OAAO,EAAE;IAChC,OAAOO,IAAI,EAAE;EACf;EACA,OAAOD,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;IAAEC,OAAO,EAAE;EAA4B,CAAC,CAAC;AACvE,CAAC;AAAC"}},"mtime":1668722290764},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\\\\backend\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\",\"filename\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\\\\backend\\\\routes\\\\productRoute.js\",\"targets\":{\"android\":\"4.4.3\",\"chrome\":\"103.0.0\",\"edge\":\"105.0.0\",\"firefox\":\"105.0.0\",\"ios\":\"12.2.0\",\"opera\":\"90.0.0\",\"safari\":\"13.1.0\",\"samsung\":\"18.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _productModel = _interopRequireDefault(require(\"../models/productModel\"));\nvar _util = require(\"../util\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\nrouter.get('/', async (req, res) => {\n  const category = req.query.category ? {\n    category: req.query.category\n  } : {};\n  const searchKeyword = req.query.searchKeyword ? {\n    name: {\n      $regex: req.query.searchKeyword,\n      $options: 'i'\n    }\n  } : {};\n  const sortOrder = req.query.sortOrder ? req.query.sortOrder === 'lowest' ? {\n    price: 1\n  } : {\n    price: -1\n  } : {\n    _id: -1\n  };\n  const products = await _productModel.default.find({\n    ...category,\n    ...searchKeyword\n  }).sort(sortOrder);\n  res.send(products);\n});\nrouter.get('/:id', async (req, res) => {\n  const product = await _productModel.default.findOne({\n    _id: req.params.id\n  });\n  if (product) {\n    res.send(product);\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found.'\n    });\n  }\n});\nrouter.post('/:id/reviews', _util.isAuth, async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n  if (product) {\n    const review = {\n      name: req.body.name,\n      rating: Number(req.body.rating),\n      comment: req.body.comment\n    };\n    product.reviews.push(review);\n    product.numReviews = product.reviews.length;\n    product.rating = product.reviews.reduce((a, c) => c.rating + a, 0) / product.reviews.length;\n    const updatedProduct = await product.save();\n    res.status(201).send({\n      data: updatedProduct.reviews[updatedProduct.reviews.length - 1],\n      message: 'Review saved successfully.'\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n});\nrouter.put('/:id', _util.isAuth, _util.isAdmin, async (req, res) => {\n  const productId = req.params.id;\n  const product = await _productModel.default.findById(productId);\n  if (product) {\n    product.name = req.body.name;\n    product.price = req.body.price;\n    product.image = req.body.image;\n    product.brand = req.body.brand;\n    product.category = req.body.category;\n    product.countInStock = req.body.countInStock;\n    product.description = req.body.description;\n    const updatedProduct = await product.save();\n    if (updatedProduct) {\n      return res.status(200).send({\n        message: 'Product Updated',\n        data: updatedProduct\n      });\n    }\n  }\n  return res.status(500).send({\n    message: ' Error in Updating Product.'\n  });\n});\nrouter.delete('/:id', _util.isAuth, _util.isAdmin, async (req, res) => {\n  const deletedProduct = await _productModel.default.findById(req.params.id);\n  if (deletedProduct) {\n    await deletedProduct.remove();\n    res.send({\n      message: 'Product Deleted'\n    });\n  } else {\n    res.send('Error in Deletion.');\n  }\n});\nrouter.post('/', _util.isAuth, _util.isAdmin, async (req, res) => {\n  const product = new _productModel.default({\n    name: req.body.name,\n    price: req.body.price,\n    image: req.body.image,\n    brand: req.body.brand,\n    category: req.body.category,\n    countInStock: req.body.countInStock,\n    description: req.body.description,\n    rating: req.body.rating,\n    numReviews: req.body.numReviews\n  });\n  const newProduct = await product.save();\n  if (newProduct) {\n    return res.status(201).send({\n      message: 'New Product Created',\n      data: newProduct\n    });\n  }\n  return res.status(500).send({\n    message: ' Error in Creating Product.'\n  });\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwicmVxIiwicmVzIiwiY2F0ZWdvcnkiLCJxdWVyeSIsInNlYXJjaEtleXdvcmQiLCJuYW1lIiwiJHJlZ2V4IiwiJG9wdGlvbnMiLCJzb3J0T3JkZXIiLCJwcmljZSIsIl9pZCIsInByb2R1Y3RzIiwiUHJvZHVjdCIsImZpbmQiLCJzb3J0Iiwic2VuZCIsInByb2R1Y3QiLCJmaW5kT25lIiwicGFyYW1zIiwiaWQiLCJzdGF0dXMiLCJtZXNzYWdlIiwicG9zdCIsImlzQXV0aCIsImZpbmRCeUlkIiwicmV2aWV3IiwiYm9keSIsInJhdGluZyIsIk51bWJlciIsImNvbW1lbnQiLCJyZXZpZXdzIiwicHVzaCIsIm51bVJldmlld3MiLCJsZW5ndGgiLCJyZWR1Y2UiLCJhIiwiYyIsInVwZGF0ZWRQcm9kdWN0Iiwic2F2ZSIsImRhdGEiLCJwdXQiLCJpc0FkbWluIiwicHJvZHVjdElkIiwiaW1hZ2UiLCJicmFuZCIsImNvdW50SW5TdG9jayIsImRlc2NyaXB0aW9uIiwiZGVsZXRlIiwiZGVsZXRlZFByb2R1Y3QiLCJyZW1vdmUiLCJuZXdQcm9kdWN0Il0sInNvdXJjZVJvb3QiOiJDOlxcV2ViIGRldmVsb3BtZW50XFxFY29tbWVyY2Vfc2hvcHBpbmdfd2Vic2l0ZVxcYmFja2VuZFxccm91dGVzXFwiLCJzb3VyY2VzIjpbInByb2R1Y3RSb3V0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IFByb2R1Y3QgZnJvbSAnLi4vbW9kZWxzL3Byb2R1Y3RNb2RlbCc7XHJcbmltcG9ydCB7IGlzQXV0aCwgaXNBZG1pbiB9IGZyb20gJy4uL3V0aWwnO1xyXG5cclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbnJvdXRlci5nZXQoJy8nLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBjYXRlZ29yeSA9IHJlcS5xdWVyeS5jYXRlZ29yeSA/IHsgY2F0ZWdvcnk6IHJlcS5xdWVyeS5jYXRlZ29yeSB9IDoge307XHJcbiAgY29uc3Qgc2VhcmNoS2V5d29yZCA9IHJlcS5xdWVyeS5zZWFyY2hLZXl3b3JkXHJcbiAgICA/IHtcclxuICAgICAgICBuYW1lOiB7XHJcbiAgICAgICAgICAkcmVnZXg6IHJlcS5xdWVyeS5zZWFyY2hLZXl3b3JkLFxyXG4gICAgICAgICAgJG9wdGlvbnM6ICdpJyxcclxuICAgICAgICB9LFxyXG4gICAgICB9XHJcbiAgICA6IHt9O1xyXG4gIGNvbnN0IHNvcnRPcmRlciA9IHJlcS5xdWVyeS5zb3J0T3JkZXJcclxuICAgID8gcmVxLnF1ZXJ5LnNvcnRPcmRlciA9PT0gJ2xvd2VzdCdcclxuICAgICAgPyB7IHByaWNlOiAxIH1cclxuICAgICAgOiB7IHByaWNlOiAtMSB9XHJcbiAgICA6IHsgX2lkOiAtMSB9O1xyXG4gIGNvbnN0IHByb2R1Y3RzID0gYXdhaXQgUHJvZHVjdC5maW5kKHsgLi4uY2F0ZWdvcnksIC4uLnNlYXJjaEtleXdvcmQgfSkuc29ydChcclxuICAgIHNvcnRPcmRlclxyXG4gICk7XHJcbiAgcmVzLnNlbmQocHJvZHVjdHMpO1xyXG59KTtcclxuXHJcbnJvdXRlci5nZXQoJy86aWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kT25lKHsgX2lkOiByZXEucGFyYW1zLmlkIH0pO1xyXG4gIGlmIChwcm9kdWN0KSB7XHJcbiAgICByZXMuc2VuZChwcm9kdWN0KTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnUHJvZHVjdCBOb3QgRm91bmQuJyB9KTtcclxuICB9XHJcbn0pO1xyXG5yb3V0ZXIucG9zdCgnLzppZC9yZXZpZXdzJywgaXNBdXRoLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcclxuICBpZiAocHJvZHVjdCkge1xyXG4gICAgY29uc3QgcmV2aWV3ID0ge1xyXG4gICAgICBuYW1lOiByZXEuYm9keS5uYW1lLFxyXG4gICAgICByYXRpbmc6IE51bWJlcihyZXEuYm9keS5yYXRpbmcpLFxyXG4gICAgICBjb21tZW50OiByZXEuYm9keS5jb21tZW50LFxyXG4gICAgfTtcclxuICAgIHByb2R1Y3QucmV2aWV3cy5wdXNoKHJldmlldyk7XHJcbiAgICBwcm9kdWN0Lm51bVJldmlld3MgPSBwcm9kdWN0LnJldmlld3MubGVuZ3RoO1xyXG4gICAgcHJvZHVjdC5yYXRpbmcgPVxyXG4gICAgICBwcm9kdWN0LnJldmlld3MucmVkdWNlKChhLCBjKSA9PiBjLnJhdGluZyArIGEsIDApIC9cclxuICAgICAgcHJvZHVjdC5yZXZpZXdzLmxlbmd0aDtcclxuICAgIGNvbnN0IHVwZGF0ZWRQcm9kdWN0ID0gYXdhaXQgcHJvZHVjdC5zYXZlKCk7XHJcbiAgICByZXMuc3RhdHVzKDIwMSkuc2VuZCh7XHJcbiAgICAgIGRhdGE6IHVwZGF0ZWRQcm9kdWN0LnJldmlld3NbdXBkYXRlZFByb2R1Y3QucmV2aWV3cy5sZW5ndGggLSAxXSxcclxuICAgICAgbWVzc2FnZTogJ1JldmlldyBzYXZlZCBzdWNjZXNzZnVsbHkuJyxcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IE5vdCBGb3VuZCcgfSk7XHJcbiAgfVxyXG59KTtcclxucm91dGVyLnB1dCgnLzppZCcsIGlzQXV0aCwgaXNBZG1pbiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgcHJvZHVjdElkID0gcmVxLnBhcmFtcy5pZDtcclxuICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kQnlJZChwcm9kdWN0SWQpO1xyXG4gIGlmIChwcm9kdWN0KSB7XHJcbiAgICBwcm9kdWN0Lm5hbWUgPSByZXEuYm9keS5uYW1lO1xyXG4gICAgcHJvZHVjdC5wcmljZSA9IHJlcS5ib2R5LnByaWNlO1xyXG4gICAgcHJvZHVjdC5pbWFnZSA9IHJlcS5ib2R5LmltYWdlO1xyXG4gICAgcHJvZHVjdC5icmFuZCA9IHJlcS5ib2R5LmJyYW5kO1xyXG4gICAgcHJvZHVjdC5jYXRlZ29yeSA9IHJlcS5ib2R5LmNhdGVnb3J5O1xyXG4gICAgcHJvZHVjdC5jb3VudEluU3RvY2sgPSByZXEuYm9keS5jb3VudEluU3RvY2s7XHJcbiAgICBwcm9kdWN0LmRlc2NyaXB0aW9uID0gcmVxLmJvZHkuZGVzY3JpcHRpb247XHJcbiAgICBjb25zdCB1cGRhdGVkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3Quc2F2ZSgpO1xyXG4gICAgaWYgKHVwZGF0ZWRQcm9kdWN0KSB7XHJcbiAgICAgIHJldHVybiByZXNcclxuICAgICAgICAuc3RhdHVzKDIwMClcclxuICAgICAgICAuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IFVwZGF0ZWQnLCBkYXRhOiB1cGRhdGVkUHJvZHVjdCB9KTtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogJyBFcnJvciBpbiBVcGRhdGluZyBQcm9kdWN0LicgfSk7XHJcbn0pO1xyXG5cclxucm91dGVyLmRlbGV0ZSgnLzppZCcsIGlzQXV0aCwgaXNBZG1pbiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3QgZGVsZXRlZFByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xyXG4gIGlmIChkZWxldGVkUHJvZHVjdCkge1xyXG4gICAgYXdhaXQgZGVsZXRlZFByb2R1Y3QucmVtb3ZlKCk7XHJcbiAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IERlbGV0ZWQnIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXMuc2VuZCgnRXJyb3IgaW4gRGVsZXRpb24uJyk7XHJcbiAgfVxyXG59KTtcclxuXHJcbnJvdXRlci5wb3N0KCcvJywgaXNBdXRoLCBpc0FkbWluLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBwcm9kdWN0ID0gbmV3IFByb2R1Y3Qoe1xyXG4gICAgbmFtZTogcmVxLmJvZHkubmFtZSxcclxuICAgIHByaWNlOiByZXEuYm9keS5wcmljZSxcclxuICAgIGltYWdlOiByZXEuYm9keS5pbWFnZSxcclxuICAgIGJyYW5kOiByZXEuYm9keS5icmFuZCxcclxuICAgIGNhdGVnb3J5OiByZXEuYm9keS5jYXRlZ29yeSxcclxuICAgIGNvdW50SW5TdG9jazogcmVxLmJvZHkuY291bnRJblN0b2NrLFxyXG4gICAgZGVzY3JpcHRpb246IHJlcS5ib2R5LmRlc2NyaXB0aW9uLFxyXG4gICAgcmF0aW5nOiByZXEuYm9keS5yYXRpbmcsXHJcbiAgICBudW1SZXZpZXdzOiByZXEuYm9keS5udW1SZXZpZXdzLFxyXG4gIH0pO1xyXG4gIGNvbnN0IG5ld1Byb2R1Y3QgPSBhd2FpdCBwcm9kdWN0LnNhdmUoKTtcclxuICBpZiAobmV3UHJvZHVjdCkge1xyXG4gICAgcmV0dXJuIHJlc1xyXG4gICAgICAuc3RhdHVzKDIwMSlcclxuICAgICAgLnNlbmQoeyBtZXNzYWdlOiAnTmV3IFByb2R1Y3QgQ3JlYXRlZCcsIGRhdGE6IG5ld1Byb2R1Y3QgfSk7XHJcbiAgfVxyXG4gIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6ICcgRXJyb3IgaW4gQ3JlYXRpbmcgUHJvZHVjdC4nIH0pO1xyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFBMEM7QUFFMUMsTUFBTUEsTUFBTSxHQUFHQyxnQkFBTyxDQUFDQyxNQUFNLEVBQUU7QUFFL0JGLE1BQU0sQ0FBQ0csR0FBRyxDQUFDLEdBQUcsRUFBRSxPQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUNsQyxNQUFNQyxRQUFRLEdBQUdGLEdBQUcsQ0FBQ0csS0FBSyxD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","map":{"version":3,"names":["router","express","Router","get","req","res","category","query","searchKeyword","name","$regex","$options","sortOrder","price","_id","products","Product","find","sort","send","product","findOne","params","id","status","message","post","isAuth","findById","review","body","rating","Number","comment","reviews","push","numReviews","length","reduce","a","c","updatedProduct","save","data","put","isAdmin","productId","image","brand","countInStock","description","delete","deletedProduct","remove","newProduct"],"sourceRoot":"C:\\Web development\\Ecommerce_shopping_website\\backend\\routes\\","sources":["productRoute.js"],"sourcesContent":["import express from 'express';\r\nimport Product from '../models/productModel';\r\nimport { isAuth, isAdmin } from '../util';\r\n\r\nconst router = express.Router();\r\n\r\nrouter.get('/', async (req, res) => {\r\n  const category = req.query.category ? { category: req.query.category } : {};\r\n  const searchKeyword = req.query.searchKeyword\r\n    ? {\r\n        name: {\r\n          $regex: req.query.searchKeyword,\r\n          $options: 'i',\r\n        },\r\n      }\r\n    : {};\r\n  const sortOrder = req.query.sortOrder\r\n    ? req.query.sortOrder === 'lowest'\r\n      ? { price: 1 }\r\n      : { price: -1 }\r\n    : { _id: -1 };\r\n  const products = await Product.find({ ...category, ...searchKeyword }).sort(\r\n    sortOrder\r\n  );\r\n  res.send(products);\r\n});\r\n\r\nrouter.get('/:id', async (req, res) => {\r\n  const product = await Product.findOne({ _id: req.params.id });\r\n  if (product) {\r\n    res.send(product);\r\n  } else {\r\n    res.status(404).send({ message: 'Product Not Found.' });\r\n  }\r\n});\r\nrouter.post('/:id/reviews', isAuth, async (req, res) => {\r\n  const product = await Product.findById(req.params.id);\r\n  if (product) {\r\n    const review = {\r\n      name: req.body.name,\r\n      rating: Number(req.body.rating),\r\n      comment: req.body.comment,\r\n    };\r\n    product.reviews.push(review);\r\n    product.numReviews = product.reviews.length;\r\n    product.rating =\r\n      product.reviews.reduce((a, c) => c.rating + a, 0) /\r\n      product.reviews.length;\r\n    const updatedProduct = await product.save();\r\n    res.status(201).send({\r\n      data: updatedProduct.reviews[updatedProduct.reviews.length - 1],\r\n      message: 'Review saved successfully.',\r\n    });\r\n  } else {\r\n    res.status(404).send({ message: 'Product Not Found' });\r\n  }\r\n});\r\nrouter.put('/:id', isAuth, isAdmin, async (req, res) => {\r\n  const productId = req.params.id;\r\n  const product = await Product.findById(productId);\r\n  if (product) {\r\n    product.name = req.body.name;\r\n    product.price = req.body.price;\r\n    product.image = req.body.image;\r\n    product.brand = req.body.brand;\r\n    product.category = req.body.category;\r\n    product.countInStock = req.body.countInStock;\r\n    product.description = req.body.description;\r\n    const updatedProduct = await product.save();\r\n    if (updatedProduct) {\r\n      return res\r\n        .status(200)\r\n        .send({ message: 'Product Updated', data: updatedProduct });\r\n    }\r\n  }\r\n  return res.status(500).send({ message: ' Error in Updating Product.' });\r\n});\r\n\r\nrouter.delete('/:id', isAuth, isAdmin, async (req, res) => {\r\n  const deletedProduct = await Product.findById(req.params.id);\r\n  if (deletedProduct) {\r\n    await deletedProduct.remove();\r\n    res.send({ message: 'Product Deleted' });\r\n  } else {\r\n    res.send('Error in Deletion.');\r\n  }\r\n});\r\n\r\nrouter.post('/', isAuth, isAdmin, async (req, res) => {\r\n  const product = new Product({\r\n    name: req.body.name,\r\n    price: req.body.price,\r\n    image: req.body.image,\r\n    brand: req.body.brand,\r\n    category: req.body.category,\r\n    countInStock: req.body.countInStock,\r\n    description: req.body.description,\r\n    rating: req.body.rating,\r\n    numReviews: req.body.numReviews,\r\n  });\r\n  const newProduct = await product.save();\r\n  if (newProduct) {\r\n    return res\r\n      .status(201)\r\n      .send({ message: 'New Product Created', data: newProduct });\r\n  }\r\n  return res.status(500).send({ message: ' Error in Creating Product.' });\r\n});\r\n\r\nexport default router;\r\n"],"mappings":"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"}},"mtime":1668722264735},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\",\"filename\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\\\\backend\\\\models\\\\productModel.js\",\"targets\":{\"android\":\"4.4.3\",\"chrome\":\"103.0.0\",\"edge\":\"105.0.0\",\"firefox\":\"105.0.0\",\"ios\":\"12.2.0\",\"opera\":\"90.0.0\",\"safari\":\"13.1.0\",\"samsung\":\"18.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst reviewSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  rating: {\n    type: Number,\n    default: 0\n  },\n  comment: {\n    type: String,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst prodctSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  brand: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  category: {\n    type: String,\n    required: true\n  },\n  countInStock: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  rating: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  numReviews: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  reviews: [reviewSchema]\n});\nconst productModel = _mongoose.default.model('Product', prodctSchema);\nvar _default = productModel;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXZpZXdTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJyYXRpbmciLCJOdW1iZXIiLCJkZWZhdWx0IiwiY29tbWVudCIsInRpbWVzdGFtcHMiLCJwcm9kY3RTY2hlbWEiLCJpbWFnZSIsImJyYW5kIiwicHJpY2UiLCJjYXRlZ29yeSIsImNvdW50SW5TdG9jayIsImRlc2NyaXB0aW9uIiwibnVtUmV2aWV3cyIsInJldmlld3MiLCJwcm9kdWN0TW9kZWwiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiQzpcXFdlYiBkZXZlbG9wbWVudFxcRWNvbW1lcmNlX3Nob3BwaW5nX3dlYnNpdGVcXGJhY2tlbmRcXG1vZGVsc1xcIiwic291cmNlcyI6WyJwcm9kdWN0TW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuXHJcbmNvbnN0IHJldmlld1NjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXHJcbiAge1xyXG4gICAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICByYXRpbmc6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwIH0sXHJcbiAgICBjb21tZW50OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICB9LFxyXG4gIHtcclxuICAgIHRpbWVzdGFtcHM6IHRydWUsXHJcbiAgfVxyXG4pO1xyXG5jb25zdCBwcm9kY3RTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcclxuICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBpbWFnZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgYnJhbmQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIHByaWNlOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCwgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBjYXRlZ29yeTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgY291bnRJblN0b2NrOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCwgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBkZXNjcmlwdGlvbjogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgcmF0aW5nOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCwgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBudW1SZXZpZXdzOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCwgcmVxdWlyZWQ6IHRydWUgfSxcclxuICByZXZpZXdzOiBbcmV2aWV3U2NoZW1hXSxcclxufSk7XHJcblxyXG5jb25zdCBwcm9kdWN0TW9kZWwgPSBtb25nb29zZS5tb2RlbCgnUHJvZHVjdCcsIHByb2RjdFNjaGVtYSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwcm9kdWN0TW9kZWw7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFBZ0M7QUFFaEMsTUFBTUEsWUFBWSxHQUFHLElBQUlDLGlCQUFRLENBQUNDLE1BQU0sQ0FDdEM7RUFDRUMsSUFBSSxFQUFFO0lBQUVDLElBQUksRUFBRUMsTUFBTTtJQUFFQyxRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQ3RDQyxNQUFNLEVBQUU7SUFBRUgsSUFBSSxFQUFFSSxNQUFNO0lBQUVDLE9BQU8sRUFBRTtFQUFFLENBQUM7RUFDcENDLE9BQU8sRUFBRTtJQUFFTixJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUs7QUFDMUMsQ0FBQyxFQUNEO0VBQ0VLLFVBQVUsRUFBRTtBQUNkLENBQUMsQ0FDRjtBQUNELE1BQU1DLFlBQVksR0FBRyxJQUFJWCxpQkFBUSxDQUFDQyxNQUFNLENBQUM7RUFDdkNDLElBQUksRUFBRTtJQUFFQyxJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUN0Q08sS0FBSyxFQUFFO0lBQUVULElBQUksRUFBRUMsTUFBTTtJQUFFQyxRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQ3ZDUSxLQUFLLEVBQUU7SUFBRVYsSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFFBQVEsRUFBRTtFQUFLLENBQUM7RUFDdkNTLEtBQUssRUFBRTtJQUFFWCxJQUFJLEVBQUVJLE1BQU07SUFBRUMsT0FBTyxFQUFFLENBQUM7SUFBRUgsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUNuRFUsUUFBUSxFQUFFO0lBQUVaLElBQUksRUFBRUMsTUFBTTtJQUFFQyxRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQzFDVyxZQUFZLEVBQUU7SUFBRWIsSUFBSSxFQUFFSSxNQUFNO0lBQUVDLE9BQU8sRUFBRSxDQUFDO0lBQUVILFFBQVEsRUFBRTtFQUFLLENBQUM7RUFDMURZLFdBQVcsRUFBRTtJQUFFZCxJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUM3Q0MsTUFBTSxFQUFFO0lBQUVILElBQUksRUFBRUksTUFBTTtJQUFFQyxPQUFPLEVBQUUsQ0FBQztJQUFFSCxRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQ3BEYSxVQUFVLEVBQUU7SUFBRWYsSUFBSSxFQUFFSSxNQUFNO0lBQUVDLE9BQU8sRUFBRSxDQUFDO0lBQUVILFFBQVEsRUFBRTtFQUFLLENBQUM7RUFDeERjLE9BQU8sRUFBRSxDQUFDcEIsWUFBWTtBQUN4QixDQUFDLENBQUM7QUFFRixNQUFNcUIsWUFBWSxHQUFHcEIsaUJBQVEsQ0FBQ3FCLEtBQUssQ0FBQyxTQUFTLEVBQUVWLFlBQVksQ0FBQztBQUFDLGVBRTlDUyxZQUFZO0FBQUEifQ==","map":{"version":3,"names":["reviewSchema","mongoose","Schema","name","type","String","required","rating","Number","default","comment","timestamps","prodctSchema","image","brand","price","category","countInStock","description","numReviews","reviews","productModel","model"],"sourceRoot":"C:\\Web development\\Ecommerce_shopping_website\\backend\\models\\","sources":["productModel.js"],"sourcesContent":["import mongoose from 'mongoose';\r\n\r\nconst reviewSchema = new mongoose.Schema(\r\n  {\r\n    name: { type: String, required: true },\r\n    rating: { type: Number, default: 0 },\r\n    comment: { type: String, required: true },\r\n  },\r\n  {\r\n    timestamps: true,\r\n  }\r\n);\r\nconst prodctSchema = new mongoose.Schema({\r\n  name: { type: String, required: true },\r\n  image: { type: String, required: true },\r\n  brand: { type: String, required: true },\r\n  price: { type: Number, default: 0, required: true },\r\n  category: { type: String, required: true },\r\n  countInStock: { type: Number, default: 0, required: true },\r\n  description: { type: String, required: true },\r\n  rating: { type: Number, default: 0, required: true },\r\n  numReviews: { type: Number, default: 0, required: true },\r\n  reviews: [reviewSchema],\r\n});\r\n\r\nconst productModel = mongoose.model('Product', prodctSchema);\r\n\r\nexport default productModel;\r\n"],"mappings":";;;;;;AAAA;AAAgC;AAEhC,MAAMA,YAAY,GAAG,IAAIC,iBAAQ,CAACC,MAAM,CACtC;EACEC,IAAI,EAAE;IAAEC,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACtCC,MAAM,EAAE;IAAEH,IAAI,EAAEI,MAAM;IAAEC,OAAO,EAAE;EAAE,CAAC;EACpCC,OAAO,EAAE;IAAEN,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK;AAC1C,CAAC,EACD;EACEK,UAAU,EAAE;AACd,CAAC,CACF;AACD,MAAMC,YAAY,GAAG,IAAIX,iBAAQ,CAACC,MAAM,CAAC;EACvCC,IAAI,EAAE;IAAEC,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACtCO,KAAK,EAAE;IAAET,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACvCQ,KAAK,EAAE;IAAEV,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACvCS,KAAK,EAAE;IAAEX,IAAI,EAAEI,MAAM;IAAEC,OAAO,EAAE,CAAC;IAAEH,QAAQ,EAAE;EAAK,CAAC;EACnDU,QAAQ,EAAE;IAAEZ,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAC1CW,YAAY,EAAE;IAAEb,IAAI,EAAEI,MAAM;IAAEC,OAAO,EAAE,CAAC;IAAEH,QAAQ,EAAE;EAAK,CAAC;EAC1DY,WAAW,EAAE;IAAEd,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAC7CC,MAAM,EAAE;IAAEH,IAAI,EAAEI,MAAM;IAAEC,OAAO,EAAE,CAAC;IAAEH,QAAQ,EAAE;EAAK,CAAC;EACpDa,UAAU,EAAE;IAAEf,IAAI,EAAEI,MAAM;IAAEC,OAAO,EAAE,CAAC;IAAEH,QAAQ,EAAE;EAAK,CAAC;EACxDc,OAAO,EAAE,CAACpB,YAAY;AACxB,CAAC,CAAC;AAEF,MAAMqB,YAAY,GAAGpB,iBAAQ,CAACqB,KAAK,CAAC,SAAS,EAAEV,YAAY,CAAC;AAAC,eAE9CS,YAAY;AAAA"}},"mtime":1668722251607},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\\\\backend\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\",\"filename\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\\\\backend\\\\routes\\\\orderRoute.js\",\"targets\":{\"android\":\"4.4.3\",\"chrome\":\"103.0.0\",\"edge\":\"105.0.0\",\"firefox\":\"105.0.0\",\"ios\":\"12.2.0\",\"opera\":\"90.0.0\",\"safari\":\"13.1.0\",\"samsung\":\"18.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _orderModel = _interopRequireDefault(require(\"../models/orderModel\"));\nvar _util = require(\"../util\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\nrouter.get(\"/\", _util.isAuth, async (req, res) => {\n  const orders = await _orderModel.default.find({}).populate('user');\n  res.send(orders);\n});\nrouter.get(\"/mine\", _util.isAuth, async (req, res) => {\n  const orders = await _orderModel.default.find({\n    user: req.user._id\n  });\n  res.send(orders);\n});\nrouter.get(\"/:id\", _util.isAuth, async (req, res) => {\n  const order = await _orderModel.default.findOne({\n    _id: req.params.id\n  });\n  if (order) {\n    res.send(order);\n  } else {\n    res.status(404).send(\"Order Not Found.\");\n  }\n});\nrouter.delete(\"/:id\", _util.isAuth, _util.isAdmin, async (req, res) => {\n  const order = await _orderModel.default.findOne({\n    _id: req.params.id\n  });\n  if (order) {\n    const deletedOrder = await order.remove();\n    res.send(deletedOrder);\n  } else {\n    res.status(404).send(\"Order Not Found.\");\n  }\n});\nrouter.post(\"/\", _util.isAuth, async (req, res) => {\n  const newOrder = new _orderModel.default({\n    orderItems: req.body.orderItems,\n    user: req.user._id,\n    shipping: req.body.shipping,\n    payment: req.body.payment,\n    itemsPrice: req.body.itemsPrice,\n    taxPrice: req.body.taxPrice,\n    shippingPrice: req.body.shippingPrice,\n    totalPrice: req.body.totalPrice\n  });\n  const newOrderCreated = await newOrder.save();\n  res.status(201).send({\n    message: \"New Order Created\",\n    data: newOrderCreated\n  });\n});\nrouter.put(\"/:id/pay\", _util.isAuth, async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n  if (order) {\n    order.isPaid = true;\n    order.paidAt = Date.now();\n    order.payment = {\n      paymentMethod: 'paypal',\n      paymentResult: {\n        payerID: req.body.payerID,\n        orderID: req.body.orderID,\n        paymentID: req.body.paymentID\n      }\n    };\n    const updatedOrder = await order.save();\n    res.send({\n      message: 'Order Paid.',\n      order: updatedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order not found.'\n    });\n  }\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwiaXNBdXRoIiwicmVxIiwicmVzIiwib3JkZXJzIiwiT3JkZXIiLCJmaW5kIiwicG9wdWxhdGUiLCJzZW5kIiwidXNlciIsIl9pZCIsIm9yZGVyIiwiZmluZE9uZSIsInBhcmFtcyIsImlkIiwic3RhdHVzIiwiZGVsZXRlIiwiaXNBZG1pbiIsImRlbGV0ZWRPcmRlciIsInJlbW92ZSIsInBvc3QiLCJuZXdPcmRlciIsIm9yZGVySXRlbXMiLCJib2R5Iiwic2hpcHBpbmciLCJwYXltZW50IiwiaXRlbXNQcmljZSIsInRheFByaWNlIiwic2hpcHBpbmdQcmljZSIsInRvdGFsUHJpY2UiLCJuZXdPcmRlckNyZWF0ZWQiLCJzYXZlIiwibWVzc2FnZSIsImRhdGEiLCJwdXQiLCJmaW5kQnlJZCIsImlzUGFpZCIsInBhaWRBdCIsIkRhdGUiLCJub3ciLCJwYXltZW50TWV0aG9kIiwicGF5bWVudFJlc3VsdCIsInBheWVySUQiLCJvcmRlcklEIiwicGF5bWVudElEIiwidXBkYXRlZE9yZGVyIl0sInNvdXJjZVJvb3QiOiJDOlxcV2ViIGRldmVsb3BtZW50XFxFY29tbWVyY2Vfc2hvcHBpbmdfd2Vic2l0ZVxcYmFja2VuZFxccm91dGVzXFwiLCJzb3VyY2VzIjpbIm9yZGVyUm91dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCBPcmRlciBmcm9tICcuLi9tb2RlbHMvb3JkZXJNb2RlbCc7XHJcbmltcG9ydCB7IGlzQXV0aCwgaXNBZG1pbiB9IGZyb20gJy4uL3V0aWwnO1xyXG5cclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvXCIsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3Qgb3JkZXJzID0gYXdhaXQgT3JkZXIuZmluZCh7fSkucG9wdWxhdGUoJ3VzZXInKTtcclxuICByZXMuc2VuZChvcmRlcnMpO1xyXG59KTtcclxucm91dGVyLmdldChcIi9taW5lXCIsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3Qgb3JkZXJzID0gYXdhaXQgT3JkZXIuZmluZCh7IHVzZXI6IHJlcS51c2VyLl9pZCB9KTtcclxuICByZXMuc2VuZChvcmRlcnMpO1xyXG59KTtcclxuXHJcbnJvdXRlci5nZXQoXCIvOmlkXCIsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3Qgb3JkZXIgPSBhd2FpdCBPcmRlci5maW5kT25lKHsgX2lkOiByZXEucGFyYW1zLmlkIH0pO1xyXG4gIGlmIChvcmRlcikge1xyXG4gICAgcmVzLnNlbmQob3JkZXIpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXMuc3RhdHVzKDQwNCkuc2VuZChcIk9yZGVyIE5vdCBGb3VuZC5cIilcclxuICB9XHJcbn0pO1xyXG5cclxucm91dGVyLmRlbGV0ZShcIi86aWRcIiwgaXNBdXRoLCBpc0FkbWluLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBvcmRlciA9IGF3YWl0IE9yZGVyLmZpbmRPbmUoeyBfaWQ6IHJlcS5wYXJhbXMuaWQgfSk7XHJcbiAgaWYgKG9yZGVyKSB7XHJcbiAgICBjb25zdCBkZWxldGVkT3JkZXIgPSBhd2FpdCBvcmRlci5yZW1vdmUoKTtcclxuICAgIHJlcy5zZW5kKGRlbGV0ZWRPcmRlcik7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKFwiT3JkZXIgTm90IEZvdW5kLlwiKVxyXG4gIH1cclxufSk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9cIiwgaXNBdXRoLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBuZXdPcmRlciA9IG5ldyBPcmRlcih7XHJcbiAgICBvcmRlckl0ZW1zOiByZXEuYm9keS5vcmRlckl0ZW1zLFxyXG4gICAgdXNlcjogcmVxLnVzZXIuX2lkLFxyXG4gICAgc2hpcHBpbmc6IHJlcS5ib2R5LnNoaXBwaW5nLFxyXG4gICAgcGF5bWVudDogcmVxLmJvZHkucGF5bWVudCxcclxuICAgIGl0ZW1zUHJpY2U6IHJlcS5ib2R5Lml0ZW1zUHJpY2UsXHJcbiAgICB0YXhQcmljZTogcmVxLmJvZHkudGF4UHJpY2UsXHJcbiAgICBzaGlwcGluZ1ByaWNlOiByZXEuYm9keS5zaGlwcGluZ1ByaWNlLFxyXG4gICAgdG90YWxQcmljZTogcmVxLmJvZHkudG90YWxQcmljZSxcclxuICB9KTtcclxuICBjb25zdCBuZXdPcmRlckNyZWF0ZWQgPSBhd2FpdCBuZXdPcmRlci5zYXZlKCk7XHJcbiAgcmVzLnN0YXR1cygyMDEpLnNlbmQoeyBtZXNzYWdlOiBcIk5ldyBPcmRlciBDcmVhdGVkXCIsIGRhdGE6IG5ld09yZGVyQ3JlYXRlZCB9KTtcclxufSk7XHJcblxyXG5yb3V0ZXIucHV0KFwiLzppZC9wYXlcIiwgaXNBdXRoLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBvcmRlciA9IGF3YWl0IE9yZGVyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xyXG4gIGlmIChvcmRlcikge1xyXG4gICAgb3JkZXIuaXNQYWlkID0gdHJ1ZTtcclxuICAgIG9yZGVyLnBhaWRBdCA9IERhdGUubm93KCk7XHJcbiAgICBvcmRlci5wYXltZW50ID0ge1xyXG4gICAgICBwYXltZW50TWV0aG9kOiAncGF5cGFsJyxcclxuICAgICAgcGF5bWVudFJlc3VsdDoge1xyXG4gICAgICAgIHBheWVySUQ6IHJlcS5ib2R5LnBheWVySUQsXHJcbiAgICAgICAgb3JkZXJJRDogcmVxLmJvZHkub3JkZXJJRCxcclxuICAgICAgICBwYXltZW50SUQ6IHJlcS5ib2R5LnBheW1lbnRJRFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCB1cGRhdGVkT3JkZXIgPSBhd2FpdCBvcmRlci5zYXZlKCk7XHJcbiAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBQYWlkLicsIG9yZGVyOiB1cGRhdGVkT3JkZXIgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ09yZGVyIG5vdCBmb3VuZC4nIH0pXHJcbiAgfVxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUEwQztBQUUxQyxNQUFNQSxNQUFNLEdBQUdDLGdCQUFPLENBQUNDLE1BQU0sRUFBRTtBQUUvQkYsTUFBTSxDQUFDRyxHQUFHLENBQUMsR0FBRyxFQUFFQyxZQUFNLEVBQUUsT0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDMUMsTUFBTUMsTUFBTSxHQUFHLE1BQU1DLG1CQUFLLENBQUNDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDQyxRQUFRLENBQUMsTUFBTSxDQUFDO0VBQ3BESixHQUFHLENBQUNLLElBQUksQ0FBQ0osTUFBTSxDQUFDO0FBQ2xCLENBQUMsQ0FBQztBQUNGUCxNQUFNLENBQUNHLEdBQUcsQ0FBQyxPQUFPLEVBQUVDLFlBQU0sRUFBRSxPQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUM5QyxNQUFNQyxNQUFNLEdBQUcsTUFBTUMsbUJBQUssQ0FBQ0MsSUFBSSxDQUFDO0lBQUVHLElBQUksRUFBRVAsR0FBRyxDQUFDTyxJQUFJLENBQUNDO0VBQUksQ0FBQyxDQUFDO0VBQ3ZEUCxHQUFHLENBQUNLLElBQUksQ0FBQ0osTUFBTSxDQUFDO0FBQ2xCLENBQUMsQ0FBQztBQUVGUCxNQUFNLENBQUNHLEdBQUcsQ0FBQyxNQUFNLEVBQUVDLFlBQU0sRUFBRSxPQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUM3QyxNQUFNUSxLQUFLLEdBQUcsTUFBTU4sbUJBQUssQ0FBQ08sT0FBTyxDQUFDO0lBQUVGLEdBQUcsRUFBRVIsR0FBRyxDQUFDVyxNQUFNLENBQUNDO0VBQUcsQ0FBQyxDQUFDO0VBQ3pELElBQUlILEtBQUssRUFBRTtJQUNUUixHQUFHLENBQUNLLElBQUksQ0FBQ0csS0FBSyxDQUFDO0VBQ2pCLENBQUMsTUFBTTtJQUNMUixHQUFHLENBQUNZLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ1AsSUFBSSxDQUFDLGtCQUFrQixDQUFDO0VBQzFDO0FBQ0YsQ0FBQyxDQUFDO0FBRUZYLE1BQU0sQ0FBQ21CLE1BQU0sQ0FBQyxNQUFNLEVBQUVmLFlBQU0sRUFBRWdCLGFBQU8sRUFBRSxPQUFPZixHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUN6RCxNQUFNUSxLQUFLLEdBQUcsTUFBTU4sbUJBQUssQ0FBQ08sT0FBTyxDQUFDO0lBQUVGLEdBQUcsRUFBRVIsR0FBRyxDQUFDVyxNQUFNLENBQUNDO0VBQUcsQ0FBQyxDQUFDO0VBQ3pELElBQUlILEtBQUssRUFBRTtJQUNULE1BQU1PLFlBQVksR0FBRyxNQUFNUCxLQUFLLENBQUNRLE1BQU0sRUFBRTtJQUN6Q2hCLEdBQUcsQ0FBQ0ssSUFBSSxDQUFDVSxZQUFZLENBQUM7RUFDeEIsQ0FBQyxNQUFNO0lBQ0xmLEdBQUcsQ0FBQ1ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDUCxJQUFJLENBQUMsa0JBQWtCLENBQUM7RUFDMUM7QUFDRixDQUFDLENBQUM7QUFFRlgsTUFBTSxDQUFDdUIsSUFBSSxDQUFDLEdBQUcsRUFBRW5CLFlBQU0sRUFBRSxPQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUMzQyxNQUFNa0IsUUFBUSxHQUFHLElBQUloQixtQkFBSyxDQUFDO0lBQ3pCaUIsVUFBVSxFQUFFcEIsR0FBRyxDQUFDcUIsSUFBSSxDQUFDRCxVQUFVO0lBQy9CYixJQUFJLEVBQUVQLEdBQUcsQ0FBQ08sSUFBSSxDQUFDQyxHQUFHO0lBQ2xCYyxRQUFRLEVBQUV0QixHQUFHLENBQUNxQixJQUFJLENBQUNDLFFBQVE7SUFDM0JDLE9BQU8sRUFBRXZCLEdBQUcsQ0FBQ3FCLElBQUksQ0FBQ0UsT0FBTztJQUN6QkMsVUFBVSxFQUFFeEIsR0FBRyxDQUFDcUIsSUFBSSxDQUFDRyxVQUFVO0lBQy9CQyxRQUFRLEVBQUV6QixHQUFHLENBQUNxQixJQUFJLENBQUNJLFFBQVE7SUFDM0JDLGFBQWEsRUFBRTFCLEdBQUcsQ0FBQ3FCLElBQUksQ0FBQ0ssYUFBYTtJQUNyQ0MsVUFBVSxFQUFFM0IsR0FBRyxDQUFDcUIsSUFBSSxDQUFDTTtFQUN2QixDQUFDLENBQUM7RUFDRixNQUFNQyxlQUFlLEdBQUcsTUFBTVQsUUFBUSxDQUFDVSxJQUFJLEVBQUU7RUFDN0M1QixHQUFHLENBQUNZLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ1AsSUFBSSxDQUFDO0lBQUV3QixPQUFPLEVBQUUsbUJBQW1CO0lBQUVDLElBQUksRUFBRUg7RUFBZ0IsQ0FBQyxDQUFDO0FBQy9FLENBQUMsQ0FBQztBQUVGakMsTUFBTSxDQUFDcUMsR0FBRyxDQUFDLFVBQVUsRUFBRWpDLFlBQU0sRUFBRSxPQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUNqRCxNQUFNUSxLQUFLLEdBQUcsTUFBTU4sbUJBQUssQ0FBQzhCLFFBQVEsQ0FBQ2pDLEdBQUcsQ0FBQ1csTUFBTSxDQUFDQyxFQUFFLENBQUM7RUFDakQsSUFBSUgsS0FBSyxFQUFFO0lBQ1RBLEtBQUssQ0FBQ3lCLE1BQU0sR0FBRyxJQUFJO0lBQ25CekIsS0FBSyxDQUFDMEIsTUFBTSxHQUFHQyxJQUFJLENBQUNDLEdBQUcsRUFBRTtJQUN6QjVCLEtBQUssQ0FBQ2MsT0FBTyxHQUFHO01BQ2RlLGFBQWEsRUFBRSxRQUFRO01BQ3ZCQyxhQUFhLEVBQUU7UUFDYkMsT0FBTyxFQUFFeEMsR0FBRyxDQUFDcUIsSUFBSSxDQUFDbUIsT0FBTztRQUN6QkMsT0FBTyxFQUFFekMsR0FBRyxDQUFDcUIsSUFBSSxDQUFDb0IsT0FBTztRQUN6QkMsU0FBUyxFQUFFMUMsR0FBRyxDQUFDcUIsSUFBSSxDQUFDcUI7TUFDdEI7SUFDRixDQUFDO0lBQ0QsTUFBTUMsWUFBWSxHQUFHLE1BQU1sQyxLQUFLLENBQUNvQixJQUFJLEVBQUU7SUFDdkM1QixHQUFHLENBQUNLLElBQUksQ0FBQztNQUFFd0IsT0FBTyxFQUFFLGFBQWE7TUFBRXJCLEtBQUssRUFBRWtDO0lBQWEsQ0FBQyxDQUFDO0VBQzNELENBQUMsTUFBTTtJQUNMMUMsR0FBRyxDQUFDWSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNQLElBQUksQ0FBQztNQUFFd0IsT0FBTyxFQUFFO0lBQW1CLENBQUMsQ0FBQztFQUN2RDtBQUNGLENBQUMsQ0FBQztBQUFDLGVBRVluQyxNQUFNO0FBQUEifQ==","map":{"version":3,"names":["router","express","Router","get","isAuth","req","res","orders","Order","find","populate","send","user","_id","order","findOne","params","id","status","delete","isAdmin","deletedOrder","remove","post","newOrder","orderItems","body","shipping","payment","itemsPrice","taxPrice","shippingPrice","totalPrice","newOrderCreated","save","message","data","put","findById","isPaid","paidAt","Date","now","paymentMethod","paymentResult","payerID","orderID","paymentID","updatedOrder"],"sourceRoot":"C:\\Web development\\Ecommerce_shopping_website\\backend\\routes\\","sources":["orderRoute.js"],"sourcesContent":["import express from 'express';\r\nimport Order from '../models/orderModel';\r\nimport { isAuth, isAdmin } from '../util';\r\n\r\nconst router = express.Router();\r\n\r\nrouter.get(\"/\", isAuth, async (req, res) => {\r\n  const orders = await Order.find({}).populate('user');\r\n  res.send(orders);\r\n});\r\nrouter.get(\"/mine\", isAuth, async (req, res) => {\r\n  const orders = await Order.find({ user: req.user._id });\r\n  res.send(orders);\r\n});\r\n\r\nrouter.get(\"/:id\", isAuth, async (req, res) => {\r\n  const order = await Order.findOne({ _id: req.params.id });\r\n  if (order) {\r\n    res.send(order);\r\n  } else {\r\n    res.status(404).send(\"Order Not Found.\")\r\n  }\r\n});\r\n\r\nrouter.delete(\"/:id\", isAuth, isAdmin, async (req, res) => {\r\n  const order = await Order.findOne({ _id: req.params.id });\r\n  if (order) {\r\n    const deletedOrder = await order.remove();\r\n    res.send(deletedOrder);\r\n  } else {\r\n    res.status(404).send(\"Order Not Found.\")\r\n  }\r\n});\r\n\r\nrouter.post(\"/\", isAuth, async (req, res) => {\r\n  const newOrder = new Order({\r\n    orderItems: req.body.orderItems,\r\n    user: req.user._id,\r\n    shipping: req.body.shipping,\r\n    payment: req.body.payment,\r\n    itemsPrice: req.body.itemsPrice,\r\n    taxPrice: req.body.taxPrice,\r\n    shippingPrice: req.body.shippingPrice,\r\n    totalPrice: req.body.totalPrice,\r\n  });\r\n  const newOrderCreated = await newOrder.save();\r\n  res.status(201).send({ message: \"New Order Created\", data: newOrderCreated });\r\n});\r\n\r\nrouter.put(\"/:id/pay\", isAuth, async (req, res) => {\r\n  const order = await Order.findById(req.params.id);\r\n  if (order) {\r\n    order.isPaid = true;\r\n    order.paidAt = Date.now();\r\n    order.payment = {\r\n      paymentMethod: 'paypal',\r\n      paymentResult: {\r\n        payerID: req.body.payerID,\r\n        orderID: req.body.orderID,\r\n        paymentID: req.body.paymentID\r\n      }\r\n    }\r\n    const updatedOrder = await order.save();\r\n    res.send({ message: 'Order Paid.', order: updatedOrder });\r\n  } else {\r\n    res.status(404).send({ message: 'Order not found.' })\r\n  }\r\n});\r\n\r\nexport default router;"],"mappings":"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"}},"mtime":1668722260389},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\",\"filename\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\\\\backend\\\\models\\\\orderModel.js\",\"targets\":{\"android\":\"4.4.3\",\"chrome\":\"103.0.0\",\"edge\":\"105.0.0\",\"firefox\":\"105.0.0\",\"ios\":\"12.2.0\",\"opera\":\"90.0.0\",\"safari\":\"13.1.0\",\"samsung\":\"18.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst shippingSchema = {\n  address: {\n    type: String,\n    required: true\n  },\n  city: {\n    type: String,\n    required: true\n  },\n  postalCode: {\n    type: String,\n    required: true\n  },\n  country: {\n    type: String,\n    required: true\n  }\n};\nconst paymentSchema = {\n  paymentMethod: {\n    type: String,\n    required: true\n  }\n};\nconst orderItemSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  qty: {\n    type: Number,\n    required: true\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: String,\n    required: true\n  },\n  product: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'Product',\n    required: true\n  }\n});\nconst orderSchema = new _mongoose.default.Schema({\n  user: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'User',\n    required: true\n  },\n  orderItems: [orderItemSchema],\n  shipping: shippingSchema,\n  payment: paymentSchema,\n  itemsPrice: {\n    type: Number\n  },\n  taxPrice: {\n    type: Number\n  },\n  shippingPrice: {\n    type: Number\n  },\n  totalPrice: {\n    type: Number\n  },\n  isPaid: {\n    type: Boolean,\n    default: false\n  },\n  paidAt: {\n    type: Date\n  },\n  isDelivered: {\n    type: Boolean,\n    default: false\n  },\n  deliveredAt: {\n    type: Date\n  }\n}, {\n  timestamps: true\n});\nconst orderModel = _mongoose.default.model(\"Order\", orderSchema);\nvar _default = orderModel;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzaGlwcGluZ1NjaGVtYSIsImFkZHJlc3MiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJjaXR5IiwicG9zdGFsQ29kZSIsImNvdW50cnkiLCJwYXltZW50U2NoZW1hIiwicGF5bWVudE1ldGhvZCIsIm9yZGVySXRlbVNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwibmFtZSIsInF0eSIsIk51bWJlciIsImltYWdlIiwicHJpY2UiLCJwcm9kdWN0IiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsIm9yZGVyU2NoZW1hIiwidXNlciIsIm9yZGVySXRlbXMiLCJzaGlwcGluZyIsInBheW1lbnQiLCJpdGVtc1ByaWNlIiwidGF4UHJpY2UiLCJzaGlwcGluZ1ByaWNlIiwidG90YWxQcmljZSIsImlzUGFpZCIsIkJvb2xlYW4iLCJkZWZhdWx0IiwicGFpZEF0IiwiRGF0ZSIsImlzRGVsaXZlcmVkIiwiZGVsaXZlcmVkQXQiLCJ0aW1lc3RhbXBzIiwib3JkZXJNb2RlbCIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiJDOlxcV2ViIGRldmVsb3BtZW50XFxFY29tbWVyY2Vfc2hvcHBpbmdfd2Vic2l0ZVxcYmFja2VuZFxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIm9yZGVyTW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuY29uc3Qgc2hpcHBpbmdTY2hlbWEgPSB7XHJcbiAgYWRkcmVzczogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgY2l0eTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgcG9zdGFsQ29kZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgY291bnRyeTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbn07XHJcblxyXG5jb25zdCBwYXltZW50U2NoZW1hID0ge1xyXG4gIHBheW1lbnRNZXRob2Q6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9XHJcbn07XHJcblxyXG5jb25zdCBvcmRlckl0ZW1TY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcclxuICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBxdHk6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIGltYWdlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBwcmljZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgcHJvZHVjdDoge1xyXG4gICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgcmVmOiAnUHJvZHVjdCcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZVxyXG4gIH0sXHJcbn0pO1xyXG5cclxuY29uc3Qgb3JkZXJTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcclxuICB1c2VyOiB7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiAnVXNlcicsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgb3JkZXJJdGVtczogW29yZGVySXRlbVNjaGVtYV0sXHJcbiAgc2hpcHBpbmc6IHNoaXBwaW5nU2NoZW1hLFxyXG4gIHBheW1lbnQ6IHBheW1lbnRTY2hlbWEsXHJcbiAgaXRlbXNQcmljZTogeyB0eXBlOiBOdW1iZXIgfSxcclxuICB0YXhQcmljZTogeyB0eXBlOiBOdW1iZXIgfSxcclxuICBzaGlwcGluZ1ByaWNlOiB7IHR5cGU6IE51bWJlciB9LFxyXG4gIHRvdGFsUHJpY2U6IHsgdHlwZTogTnVtYmVyIH0sXHJcbiAgaXNQYWlkOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sXHJcbiAgcGFpZEF0OiB7IHR5cGU6IERhdGUgfSxcclxuICBpc0RlbGl2ZXJlZDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxyXG4gIGRlbGl2ZXJlZEF0OiB7IHR5cGU6IERhdGUgfSxcclxufSwge1xyXG4gIHRpbWVzdGFtcHM6IHRydWVcclxufSk7XHJcblxyXG5jb25zdCBvcmRlck1vZGVsID0gbW9uZ29vc2UubW9kZWwoXCJPcmRlclwiLCBvcmRlclNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IG9yZGVyTW9kZWw7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUFnQztBQUNoQyxNQUFNQSxjQUFjLEdBQUc7RUFDckJDLE9BQU8sRUFBRTtJQUFFQyxJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUN6Q0MsSUFBSSxFQUFFO0lBQUVILElBQUksRUFBRUMsTUFBTTtJQUFFQyxRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQ3RDRSxVQUFVLEVBQUU7SUFBRUosSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFFBQVEsRUFBRTtFQUFLLENBQUM7RUFDNUNHLE9BQU8sRUFBRTtJQUFFTCxJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUs7QUFDMUMsQ0FBQztBQUVELE1BQU1JLGFBQWEsR0FBRztFQUNwQkMsYUFBYSxFQUFFO0lBQUVQLElBQUksRUFBRUMsTUFBTTtJQUFFQyxRQUFRLEVBQUU7RUFBSztBQUNoRCxDQUFDO0FBRUQsTUFBTU0sZUFBZSxHQUFHLElBQUlDLGlCQUFRLENBQUNDLE1BQU0sQ0FBQztFQUMxQ0MsSUFBSSxFQUFFO0lBQUVYLElBQUksRUFBRUMsTUFBTTtJQUFFQyxRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQ3RDVSxHQUFHLEVBQUU7SUFBRVosSUFBSSxFQUFFYSxNQUFNO0lBQUVYLFFBQVEsRUFBRTtFQUFLLENBQUM7RUFDckNZLEtBQUssRUFBRTtJQUFFZCxJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUN2Q2EsS0FBSyxFQUFFO0lBQUVmLElBQUksRUFBRUMsTUFBTTtJQUFFQyxRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQ3ZDYyxPQUFPLEVBQUU7SUFDUGhCLElBQUksRUFBRVMsaUJBQVEsQ0FBQ0MsTUFBTSxDQUFDTyxLQUFLLENBQUNDLFFBQVE7SUFDcENDLEdBQUcsRUFBRSxTQUFTO0lBQ2RqQixRQUFRLEVBQUU7RUFDWjtBQUNGLENBQUMsQ0FBQztBQUVGLE1BQU1rQixXQUFXLEdBQUcsSUFBSVgsaUJBQVEsQ0FBQ0MsTUFBTSxDQUFDO0VBQ3RDVyxJQUFJLEVBQUU7SUFBRXJCLElBQUksRUFBRVMsaUJBQVEsQ0FBQ0MsTUFBTSxDQUFDTyxLQUFLLENBQUNDLFFBQVE7SUFBRUMsR0FBRyxFQUFFLE1BQU07SUFBRWpCLFFBQVEsRUFBRTtFQUFLLENBQUM7RUFDM0VvQixVQUFVLEVBQUUsQ0FBQ2QsZUFBZSxDQUFDO0VBQzdCZSxRQUFRLEVBQUV6QixjQUFjO0VBQ3hCMEIsT0FBTyxFQUFFbEIsYUFBYTtFQUN0Qm1CLFVBQVUsRUFBRTtJQUFFekIsSUFBSSxFQUFFYTtFQUFPLENBQUM7RUFDNUJhLFFBQVEsRUFBRTtJQUFFMUIsSUFBSSxFQUFFYTtFQUFPLENBQUM7RUFDMUJjLGFBQWEsRUFBRTtJQUFFM0IsSUFBSSxFQUFFYTtFQUFPLENBQUM7RUFDL0JlLFVBQVUsRUFBRTtJQUFFNUIsSUFBSSxFQUFFYTtFQUFPLENBQUM7RUFDNUJnQixNQUFNLEVBQUU7SUFBRTdCLElBQUksRUFBRThCLE9BQU87SUFBRUMsT0FBTyxFQUFFO0VBQU0sQ0FBQztFQUN6Q0MsTUFBTSxFQUFFO0lBQUVoQyxJQUFJLEVBQUVpQztFQUFLLENBQUM7RUFDdEJDLFdBQVcsRUFBRTtJQUFFbEMsSUFBSSxFQUFFOEIsT0FBTztJQUFFQyxPQUFPLEVBQUU7RUFBTSxDQUFDO0VBQzlDSSxXQUFXLEVBQUU7SUFBRW5DLElBQUksRUFBRWlDO0VBQUs7QUFDNUIsQ0FBQyxFQUFFO0VBQ0RHLFVBQVUsRUFBRTtBQUNkLENBQUMsQ0FBQztBQUVGLE1BQU1DLFVBQVUsR0FBRzVCLGlCQUFRLENBQUM2QixLQUFLLENBQUMsT0FBTyxFQUFFbEIsV0FBVyxDQUFDO0FBQUMsZUFDekNpQixVQUFVO0FBQUEifQ==","map":{"version":3,"names":["shippingSchema","address","type","String","required","city","postalCode","country","paymentSchema","paymentMethod","orderItemSchema","mongoose","Schema","name","qty","Number","image","price","product","Types","ObjectId","ref","orderSchema","user","orderItems","shipping","payment","itemsPrice","taxPrice","shippingPrice","totalPrice","isPaid","Boolean","default","paidAt","Date","isDelivered","deliveredAt","timestamps","orderModel","model"],"sourceRoot":"C:\\Web development\\Ecommerce_shopping_website\\backend\\models\\","sources":["orderModel.js"],"sourcesContent":["import mongoose from 'mongoose';\r\nconst shippingSchema = {\r\n  address: { type: String, required: true },\r\n  city: { type: String, required: true },\r\n  postalCode: { type: String, required: true },\r\n  country: { type: String, required: true },\r\n};\r\n\r\nconst paymentSchema = {\r\n  paymentMethod: { type: String, required: true }\r\n};\r\n\r\nconst orderItemSchema = new mongoose.Schema({\r\n  name: { type: String, required: true },\r\n  qty: { type: Number, required: true },\r\n  image: { type: String, required: true },\r\n  price: { type: String, required: true },\r\n  product: {\r\n    type: mongoose.Schema.Types.ObjectId,\r\n    ref: 'Product',\r\n    required: true\r\n  },\r\n});\r\n\r\nconst orderSchema = new mongoose.Schema({\r\n  user: { type: mongoose.Schema.Types.ObjectId, ref: 'User', required: true },\r\n  orderItems: [orderItemSchema],\r\n  shipping: shippingSchema,\r\n  payment: paymentSchema,\r\n  itemsPrice: { type: Number },\r\n  taxPrice: { type: Number },\r\n  shippingPrice: { type: Number },\r\n  totalPrice: { type: Number },\r\n  isPaid: { type: Boolean, default: false },\r\n  paidAt: { type: Date },\r\n  isDelivered: { type: Boolean, default: false },\r\n  deliveredAt: { type: Date },\r\n}, {\r\n  timestamps: true\r\n});\r\n\r\nconst orderModel = mongoose.model(\"Order\", orderSchema);\r\nexport default orderModel;"],"mappings":";;;;;;AAAA;AAAgC;AAChC,MAAMA,cAAc,GAAG;EACrBC,OAAO,EAAE;IAAEC,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACzCC,IAAI,EAAE;IAAEH,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACtCE,UAAU,EAAE;IAAEJ,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAC5CG,OAAO,EAAE;IAAEL,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK;AAC1C,CAAC;AAED,MAAMI,aAAa,GAAG;EACpBC,aAAa,EAAE;IAAEP,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK;AAChD,CAAC;AAED,MAAMM,eAAe,GAAG,IAAIC,iBAAQ,CAACC,MAAM,CAAC;EAC1CC,IAAI,EAAE;IAAEX,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACtCU,GAAG,EAAE;IAAEZ,IAAI,EAAEa,MAAM;IAAEX,QAAQ,EAAE;EAAK,CAAC;EACrCY,KAAK,EAAE;IAAEd,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACvCa,KAAK,EAAE;IAAEf,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACvCc,OAAO,EAAE;IACPhB,IAAI,EAAES,iBAAQ,CAACC,MAAM,CAACO,KAAK,CAACC,QAAQ;IACpCC,GAAG,EAAE,SAAS;IACdjB,QAAQ,EAAE;EACZ;AACF,CAAC,CAAC;AAEF,MAAMkB,WAAW,GAAG,IAAIX,iBAAQ,CAACC,MAAM,CAAC;EACtCW,IAAI,EAAE;IAAErB,IAAI,EAAES,iBAAQ,CAACC,MAAM,CAACO,KAAK,CAACC,QAAQ;IAAEC,GAAG,EAAE,MAAM;IAAEjB,QAAQ,EAAE;EAAK,CAAC;EAC3EoB,UAAU,EAAE,CAACd,eAAe,CAAC;EAC7Be,QAAQ,EAAEzB,cAAc;EACxB0B,OAAO,EAAElB,aAAa;EACtBmB,UAAU,EAAE;IAAEzB,IAAI,EAAEa;EAAO,CAAC;EAC5Ba,QAAQ,EAAE;IAAE1B,IAAI,EAAEa;EAAO,CAAC;EAC1Bc,aAAa,EAAE;IAAE3B,IAAI,EAAEa;EAAO,CAAC;EAC/Be,UAAU,EAAE;IAAE5B,IAAI,EAAEa;EAAO,CAAC;EAC5BgB,MAAM,EAAE;IAAE7B,IAAI,EAAE8B,OAAO;IAAEC,OAAO,EAAE;EAAM,CAAC;EACzCC,MAAM,EAAE;IAAEhC,IAAI,EAAEiC;EAAK,CAAC;EACtBC,WAAW,EAAE;IAAElC,IAAI,EAAE8B,OAAO;IAAEC,OAAO,EAAE;EAAM,CAAC;EAC9CI,WAAW,EAAE;IAAEnC,IAAI,EAAEiC;EAAK;AAC5B,CAAC,EAAE;EACDG,UAAU,EAAE;AACd,CAAC,CAAC;AAEF,MAAMC,UAAU,GAAG5B,iBAAQ,CAAC6B,KAAK,CAAC,OAAO,EAAElB,WAAW,CAAC;AAAC,eACzCiB,UAAU;AAAA"}},"mtime":1668722246362},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\\\\backend\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\",\"filename\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\\\\backend\\\\routes\\\\uploadRoute.js\",\"targets\":{\"android\":\"4.4.3\",\"chrome\":\"103.0.0\",\"edge\":\"105.0.0\",\"firefox\":\"105.0.0\",\"ios\":\"12.2.0\",\"opera\":\"90.0.0\",\"safari\":\"13.1.0\",\"samsung\":\"18.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Web development\\\\Ecommerce_shopping_website\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.2:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _multer = _interopRequireDefault(require(\"multer\"));\nvar _multerS = _interopRequireDefault(require(\"multer-s3\"));\nvar _awsSdk = _interopRequireDefault(require(\"aws-sdk\"));\nvar _config = _interopRequireDefault(require(\"../config\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst storage = _multer.default.diskStorage({\n  destination(req, file, cb) {\n    cb(null, 'uploads/');\n  },\n  filename(req, file, cb) {\n    cb(null, `${Date.now()}.jpg`);\n  }\n});\nconst upload = (0, _multer.default)({\n  storage\n});\nconst router = _express.default.Router();\nrouter.post('/', upload.single('image'), (req, res) => {\n  res.send(`/${req.file.path}`);\n});\n_awsSdk.default.config.update({\n  accessKeyId: _config.default.accessKeyId,\n  secretAccessKey: _config.default.secretAccessKey\n});\nconst s3 = new _awsSdk.default.S3();\nconst storageS3 = (0, _multerS.default)({\n  s3,\n  bucket: 'amazona-bucket',\n  acl: 'public-read',\n  contentType: _multerS.default.AUTO_CONTENT_TYPE,\n  key(req, file, cb) {\n    cb(null, file.originalname);\n  }\n});\nconst uploadS3 = (0, _multer.default)({\n  storage: storageS3\n});\nrouter.post('/s3', uploadS3.single('image'), (req, res) => {\n  res.send(req.file.location);\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzdG9yYWdlIiwibXVsdGVyIiwiZGlza1N0b3JhZ2UiLCJkZXN0aW5hdGlvbiIsInJlcSIsImZpbGUiLCJjYiIsImZpbGVuYW1lIiwiRGF0ZSIsIm5vdyIsInVwbG9hZCIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0Iiwic2luZ2xlIiwicmVzIiwic2VuZCIsInBhdGgiLCJhd3MiLCJjb25maWciLCJ1cGRhdGUiLCJhY2Nlc3NLZXlJZCIsInNlY3JldEFjY2Vzc0tleSIsInMzIiwiUzMiLCJzdG9yYWdlUzMiLCJtdWx0ZXJTMyIsImJ1Y2tldCIsImFjbCIsImNvbnRlbnRUeXBlIiwiQVVUT19DT05URU5UX1RZUEUiLCJrZXkiLCJvcmlnaW5hbG5hbWUiLCJ1cGxvYWRTMyIsImxvY2F0aW9uIl0sInNvdXJjZVJvb3QiOiJDOlxcV2ViIGRldmVsb3BtZW50XFxFY29tbWVyY2Vfc2hvcHBpbmdfd2Vic2l0ZVxcYmFja2VuZFxccm91dGVzXFwiLCJzb3VyY2VzIjpbInVwbG9hZFJvdXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgbXVsdGVyIGZyb20gJ211bHRlcic7XHJcbmltcG9ydCBtdWx0ZXJTMyBmcm9tICdtdWx0ZXItczMnO1xyXG5pbXBvcnQgYXdzIGZyb20gJ2F3cy1zZGsnO1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJy4uL2NvbmZpZyc7XHJcblxyXG5jb25zdCBzdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcclxuICBkZXN0aW5hdGlvbihyZXEsIGZpbGUsIGNiKSB7XHJcbiAgICBjYihudWxsLCAndXBsb2Fkcy8nKTtcclxuICB9LFxyXG4gIGZpbGVuYW1lKHJlcSwgZmlsZSwgY2IpIHtcclxuICAgIGNiKG51bGwsIGAke0RhdGUubm93KCl9LmpwZ2ApO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxuY29uc3QgdXBsb2FkID0gbXVsdGVyKHsgc3RvcmFnZSB9KTtcclxuXHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG5yb3V0ZXIucG9zdCgnLycsIHVwbG9hZC5zaW5nbGUoJ2ltYWdlJyksIChyZXEsIHJlcykgPT4ge1xyXG4gIHJlcy5zZW5kKGAvJHtyZXEuZmlsZS5wYXRofWApO1xyXG59KTtcclxuXHJcbmF3cy5jb25maWcudXBkYXRlKHtcclxuICBhY2Nlc3NLZXlJZDogY29uZmlnLmFjY2Vzc0tleUlkLFxyXG4gIHNlY3JldEFjY2Vzc0tleTogY29uZmlnLnNlY3JldEFjY2Vzc0tleSxcclxufSk7XHJcbmNvbnN0IHMzID0gbmV3IGF3cy5TMygpO1xyXG5jb25zdCBzdG9yYWdlUzMgPSBtdWx0ZXJTMyh7XHJcbiAgczMsXHJcbiAgYnVja2V0OiAnYW1hem9uYS1idWNrZXQnLFxyXG4gIGFjbDogJ3B1YmxpYy1yZWFkJyxcclxuICBjb250ZW50VHlwZTogbXVsdGVyUzMuQVVUT19DT05URU5UX1RZUEUsXHJcbiAga2V5KHJlcSwgZmlsZSwgY2IpIHtcclxuICAgIGNiKG51bGwsIGZpbGUub3JpZ2luYWxuYW1lKTtcclxuICB9LFxyXG59KTtcclxuY29uc3QgdXBsb2FkUzMgPSBtdWx0ZXIoeyBzdG9yYWdlOiBzdG9yYWdlUzMgfSk7XHJcbnJvdXRlci5wb3N0KCcvczMnLCB1cGxvYWRTMy5zaW5nbGUoJ2ltYWdlJyksIChyZXEsIHJlcykgPT4ge1xyXG4gIHJlcy5zZW5kKHJlcS5maWxlLmxvY2F0aW9uKTtcclxufSk7XHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQStCO0FBRS9CLE1BQU1BLE9BQU8sR0FBR0MsZUFBTSxDQUFDQyxXQUFXLENBQUM7RUFDakNDLFdBQVcsQ0FBQ0MsR0FBRyxFQUFFQyxJQUFJLEVBQUVDLEVBQUUsRUFBRTtJQUN6QkEsRUFBRSxDQUFDLElBQUksRUFBRSxVQUFVLENBQUM7RUFDdEIsQ0FBQztFQUNEQyxRQUFRLENBQUNILEdBQUcsRUFBRUMsSUFBSSxFQUFFQyxFQUFFLEVBQUU7SUFDdEJBLEVBQUUsQ0FBQyxJQUFJLEVBQUcsR0FBRUUsSUFBSSxDQUFDQyxHQUFHLEVBQUcsTUFBSyxDQUFDO0VBQy9CO0FBQ0YsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsTUFBTSxHQUFHLElBQUFULGVBQU0sRUFBQztFQUFFRDtBQUFRLENBQUMsQ0FBQztBQUVsQyxNQUFNVyxNQUFNLEdBQUdDLGdCQUFPLENBQUNDLE1BQU0sRUFBRTtBQUUvQkYsTUFBTSxDQUFDRyxJQUFJLENBQUMsR0FBRyxFQUFFSixNQUFNLENBQUNLLE1BQU0sQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDWCxHQUFHLEVBQUVZLEdBQUcsS0FBSztFQUNyREEsR0FBRyxDQUFDQyxJQUFJLENBQUUsSUFBR2IsR0FBRyxDQUFDQyxJQUFJLENBQUNhLElBQUssRUFBQyxDQUFDO0FBQy9CLENBQUMsQ0FBQztBQUVGQyxlQUFHLENBQUNDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDO0VBQ2hCQyxXQUFXLEVBQUVGLGVBQU0sQ0FBQ0UsV0FBVztFQUMvQkMsZUFBZSxFQUFFSCxlQUFNLENBQUNHO0FBQzFCLENBQUMsQ0FBQztBQUNGLE1BQU1DLEVBQUUsR0FBRyxJQUFJTCxlQUFHLENBQUNNLEVBQUUsRUFBRTtBQUN2QixNQUFNQyxTQUFTLEdBQUcsSUFBQUMsZ0JBQVEsRUFBQztFQUN6QkgsRUFBRTtFQUNGSSxNQUFNLEVBQUUsZ0JBQWdCO0VBQ3hCQyxHQUFHLEVBQUUsYUFBYTtFQUNsQkMsV0FBVyxFQUFFSCxnQkFBUSxDQUFDSSxpQkFBaUI7RUFDdkNDLEdBQUcsQ0FBQzVCLEdBQUcsRUFBRUMsSUFBSSxFQUFFQyxFQUFFLEVBQUU7SUFDakJBLEVBQUUsQ0FBQyxJQUFJLEVBQUVELElBQUksQ0FBQzRCLFlBQVksQ0FBQztFQUM3QjtBQUNGLENBQUMsQ0FBQztBQUNGLE1BQU1DLFFBQVEsR0FBRyxJQUFBakMsZUFBTSxFQUFDO0VBQUVELE9BQU8sRUFBRTBCO0FBQVUsQ0FBQyxDQUFDO0FBQy9DZixNQUFNLENBQUNHLElBQUksQ0FBQyxLQUFLLEVBQUVvQixRQUFRLENBQUNuQixNQUFNLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQ1gsR0FBRyxFQUFFWSxHQUFHLEtBQUs7RUFDekRBLEdBQUcsQ0FBQ0MsSUFBSSxDQUFDYixHQUFHLENBQUNDLElBQUksQ0FBQzhCLFFBQVEsQ0FBQztBQUM3QixDQUFDLENBQUM7QUFBQyxlQUNZeEIsTUFBTTtBQUFBIn0=","map":{"version":3,"names":["storage","multer","diskStorage","destination","req","file","cb","filename","Date","now","upload","router","express","Router","post","single","res","send","path","aws","config","update","accessKeyId","secretAccessKey","s3","S3","storageS3","multerS3","bucket","acl","contentType","AUTO_CONTENT_TYPE","key","originalname","uploadS3","location"],"sourceRoot":"C:\\Web development\\Ecommerce_shopping_website\\backend\\routes\\","sources":["uploadRoute.js"],"sourcesContent":["import express from 'express';\r\nimport multer from 'multer';\r\nimport multerS3 from 'multer-s3';\r\nimport aws from 'aws-sdk';\r\nimport config from '../config';\r\n\r\nconst storage = multer.diskStorage({\r\n  destination(req, file, cb) {\r\n    cb(null, 'uploads/');\r\n  },\r\n  filename(req, file, cb) {\r\n    cb(null, `${Date.now()}.jpg`);\r\n  },\r\n});\r\n\r\nconst upload = multer({ storage });\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post('/', upload.single('image'), (req, res) => {\r\n  res.send(`/${req.file.path}`);\r\n});\r\n\r\naws.config.update({\r\n  accessKeyId: config.accessKeyId,\r\n  secretAccessKey: config.secretAccessKey,\r\n});\r\nconst s3 = new aws.S3();\r\nconst storageS3 = multerS3({\r\n  s3,\r\n  bucket: 'amazona-bucket',\r\n  acl: 'public-read',\r\n  contentType: multerS3.AUTO_CONTENT_TYPE,\r\n  key(req, file, cb) {\r\n    cb(null, file.originalname);\r\n  },\r\n});\r\nconst uploadS3 = multer({ storage: storageS3 });\r\nrouter.post('/s3', uploadS3.single('image'), (req, res) => {\r\n  res.send(req.file.location);\r\n});\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AAA+B;AAE/B,MAAMA,OAAO,GAAGC,eAAM,CAACC,WAAW,CAAC;EACjCC,WAAW,CAACC,GAAG,EAAEC,IAAI,EAAEC,EAAE,EAAE;IACzBA,EAAE,CAAC,IAAI,EAAE,UAAU,CAAC;EACtB,CAAC;EACDC,QAAQ,CAACH,GAAG,EAAEC,IAAI,EAAEC,EAAE,EAAE;IACtBA,EAAE,CAAC,IAAI,EAAG,GAAEE,IAAI,CAACC,GAAG,EAAG,MAAK,CAAC;EAC/B;AACF,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAG,IAAAT,eAAM,EAAC;EAAED;AAAQ,CAAC,CAAC;AAElC,MAAMW,MAAM,GAAGC,gBAAO,CAACC,MAAM,EAAE;AAE/BF,MAAM,CAACG,IAAI,CAAC,GAAG,EAAEJ,MAAM,CAACK,MAAM,CAAC,OAAO,CAAC,EAAE,CAACX,GAAG,EAAEY,GAAG,KAAK;EACrDA,GAAG,CAACC,IAAI,CAAE,IAAGb,GAAG,CAACC,IAAI,CAACa,IAAK,EAAC,CAAC;AAC/B,CAAC,CAAC;AAEFC,eAAG,CAACC,MAAM,CAACC,MAAM,CAAC;EAChBC,WAAW,EAAEF,eAAM,CAACE,WAAW;EAC/BC,eAAe,EAAEH,eAAM,CAACG;AAC1B,CAAC,CAAC;AACF,MAAMC,EAAE,GAAG,IAAIL,eAAG,CAACM,EAAE,EAAE;AACvB,MAAMC,SAAS,GAAG,IAAAC,gBAAQ,EAAC;EACzBH,EAAE;EACFI,MAAM,EAAE,gBAAgB;EACxBC,GAAG,EAAE,aAAa;EAClBC,WAAW,EAAEH,gBAAQ,CAACI,iBAAiB;EACvCC,GAAG,CAAC5B,GAAG,EAAEC,IAAI,EAAEC,EAAE,EAAE;IACjBA,EAAE,CAAC,IAAI,EAAED,IAAI,CAAC4B,YAAY,CAAC;EAC7B;AACF,CAAC,CAAC;AACF,MAAMC,QAAQ,GAAG,IAAAjC,eAAM,EAAC;EAAED,OAAO,EAAE0B;AAAU,CAAC,CAAC;AAC/Cf,MAAM,CAACG,IAAI,CAAC,KAAK,EAAEoB,QAAQ,CAACnB,MAAM,CAAC,OAAO,CAAC,EAAE,CAACX,GAAG,EAAEY,GAAG,KAAK;EACzDA,GAAG,CAACC,IAAI,CAACb,GAAG,CAACC,IAAI,CAAC8B,QAAQ,CAAC;AAC7B,CAAC,CAAC;AAAC,eACYxB,MAAM;AAAA"}},"mtime":1668722269122}}